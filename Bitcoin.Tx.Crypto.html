<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.Tx.Crypto</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master/Bitcoin/Tx/Crypto.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Hashing/signing transactions.</a>
<a id="107" class="Comment">------------------------------------------------------------------------</a>
<a id="180" class="Keyword">module</a> <a id="187" href="Bitcoin.Tx.Crypto.html" class="Module">Bitcoin.Tx.Crypto</a> <a id="205" class="Keyword">where</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="237" class="Keyword">hiding</a> <a id="244" class="Symbol">(</a><a id="245" href="Data.List.Base.html#6333" class="Function">allFin</a><a id="251" class="Symbol">;</a> <a id="253" href="Data.List.Base.html#5034" class="Function Operator">[_]</a><a id="256" class="Symbol">)</a>
<a id="258" class="Keyword">open</a> <a id="263" href="Prelude.Init.html#5142" class="Module">V</a>
<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Prelude.Bitstring.html" class="Module">Prelude.Bitstring</a>

<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a>
<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="Bitcoin.Tx.Base.html" class="Module">Bitcoin.Tx.Base</a>
<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="Bitcoin.Script.Base.html" class="Module">Bitcoin.Script.Base</a>

<a id="467" class="Comment">-- Remove witnesses (i.e. adhere to SegregatedWitness feature of Bitcoin)</a>
<a id="wit⊥"></a><a id="541" href="Bitcoin.Tx.Crypto.html#541" class="Function">wit⊥</a> <a id="546" class="Symbol">:</a> <a id="548" class="Symbol">∀</a> <a id="550" class="Symbol">{</a><a id="551" href="Bitcoin.Tx.Crypto.html#551" class="Bound">n</a><a id="552" class="Symbol">}</a> <a id="554" class="Symbol">→</a> <a id="556" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="560" href="Bitcoin.Tx.Base.html#1078" class="Function">∃Witness</a> <a id="569" href="Bitcoin.Tx.Crypto.html#551" class="Bound">n</a>
<a id="571" href="Bitcoin.Tx.Crypto.html#541" class="Function">wit⊥</a> <a id="576" class="Symbol">=</a> <a id="578" href="Data.Vec.Base.html#5793" class="Function">replicate</a> <a id="588" class="Symbol">(_</a> <a id="591" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="593" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="595" class="Symbol">)</a>

<a id="wit→⊥"></a><a id="598" href="Bitcoin.Tx.Crypto.html#598" class="Function">wit→⊥</a> <a id="604" class="Symbol">:</a> <a id="606" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="609" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="611" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="613" class="Symbol">→</a> <a id="615" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="618" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="620" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a>
<a id="622" href="Bitcoin.Tx.Crypto.html#598" class="Function">wit→⊥</a> <a id="628" href="Bitcoin.Tx.Crypto.html#628" class="Bound">tx</a> <a id="631" class="Symbol">=</a> <a id="633" class="Keyword">record</a> <a id="640" href="Bitcoin.Tx.Crypto.html#628" class="Bound">tx</a> <a id="643" class="Symbol">{</a> <a id="645" href="Bitcoin.Tx.Base.html#1193" class="Field">wit</a> <a id="649" class="Symbol">=</a> <a id="651" href="Bitcoin.Tx.Crypto.html#541" class="Function">wit⊥</a> <a id="656" class="Symbol">}</a>

<a id="659" class="Comment">-- Sign a transaction</a>
<a id="μ"></a><a id="681" href="Bitcoin.Tx.Crypto.html#681" class="Function">μ</a> <a id="683" class="Symbol">:</a> <a id="685" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="688" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="690" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="692" class="Symbol">→</a> <a id="694" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="698" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="700" class="Symbol">→</a> <a id="702" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="705" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="707" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a>
<a id="709" href="Bitcoin.Tx.Crypto.html#681" class="Function">μ</a> <a id="711" class="Symbol">{</a><a id="712" class="Argument">i</a> <a id="714" class="Symbol">=</a> <a id="716" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="720" class="Symbol">_}</a> <a id="723" href="Bitcoin.Tx.Crypto.html#723" class="Bound">tx</a> <a id="726" href="Bitcoin.Tx.Crypto.html#726" class="Bound">i′</a> <a id="729" class="Symbol">=</a> <a id="731" class="Keyword">record</a> <a id="738" href="Bitcoin.Tx.Crypto.html#723" class="Bound">tx</a> <a id="741" class="Symbol">{</a> <a id="743" href="Bitcoin.Tx.Base.html#1193" class="Field">wit</a> <a id="747" class="Symbol">=</a> <a id="749" href="Bitcoin.Tx.Crypto.html#541" class="Function">wit⊥</a> <a id="754" href="Data.Vec.Base.html#2395" class="Function Operator">[</a> <a id="756" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="759" href="Data.Vec.Base.html#2395" class="Function Operator">]≔</a> <a id="762" class="Symbol">(_</a> <a id="765" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="767" href="Data.Vec.Base.html#5759" class="Function Operator">[</a> <a id="769" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="771" class="Symbol">(</a><a id="772" href="Prelude.ToN.html#139" class="Field">toℕ</a> <a id="776" href="Bitcoin.Tx.Crypto.html#726" class="Bound">i′</a><a id="778" class="Symbol">)</a> <a id="780" href="Data.Vec.Base.html#5759" class="Function Operator">]</a><a id="781" class="Symbol">)</a> <a id="783" class="Symbol">}</a>

<a id="sig"></a><a id="786" href="Bitcoin.Tx.Crypto.html#786" class="Function">sig</a> <a id="790" class="Symbol">:</a> <a id="792" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="797" href="Bitcoin.Crypto.html#311" class="Record">KeyPair</a> <a id="805" class="Symbol">→</a> <a id="807" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="810" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="812" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="814" class="Symbol">→</a> <a id="816" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="820" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="822" class="Symbol">→</a> <a id="824" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="827" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="829" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a>
<a id="831" href="Bitcoin.Tx.Crypto.html#786" class="Function">sig</a> <a id="835" href="Bitcoin.Tx.Crypto.html#835" class="Bound">ks</a> <a id="838" href="Bitcoin.Tx.Crypto.html#838" class="Bound">tx</a> <a id="841" href="Bitcoin.Tx.Crypto.html#841" class="Bound">i</a> <a id="843" class="Symbol">=</a> <a id="845" class="Keyword">record</a> <a id="852" href="Bitcoin.Tx.Crypto.html#838" class="Bound">tx</a>
  <a id="857" class="Symbol">{</a> <a id="859" href="Bitcoin.Tx.Base.html#1193" class="Field">wit</a> <a id="863" class="Symbol">=</a> <a id="865" href="Bitcoin.Tx.Crypto.html#838" class="Bound">tx</a> <a id="868" class="Symbol">.</a><a id="869" href="Bitcoin.Tx.Base.html#1193" class="Field">wit</a> <a id="873" href="Data.Vec.Base.html#2395" class="Function Operator">[</a> <a id="875" href="Bitcoin.Tx.Crypto.html#841" class="Bound">i</a> <a id="877" href="Data.Vec.Base.html#2395" class="Function Operator">]≔</a> <a id="880" class="Symbol">(_</a> <a id="883" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="885" href="Data.Vec.Base.html#7549" class="Function">fromList</a> <a id="894" class="Symbol">(</a><a id="895" href="Function.Base.html#1563" class="Function">flip</a> <a id="900" href="Bitcoin.Crypto.html#635" class="Postulate">SIG</a> <a id="904" class="Symbol">(</a><a id="905" href="Bitcoin.Tx.Crypto.html#681" class="Function">μ</a> <a id="907" href="Bitcoin.Tx.Crypto.html#838" class="Bound">tx</a> <a id="910" href="Bitcoin.Tx.Crypto.html#841" class="Bound">i</a><a id="911" class="Symbol">)</a> <a id="913" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="917" href="Bitcoin.Tx.Crypto.html#835" class="Bound">ks</a><a id="919" class="Symbol">))</a> <a id="922" class="Symbol">}</a>

<a id="sig⋆"></a><a id="925" href="Bitcoin.Tx.Crypto.html#925" class="Function">sig⋆</a> <a id="930" class="Symbol">:</a> <a id="932" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="936" class="Symbol">(</a><a id="937" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="942" href="Bitcoin.Crypto.html#311" class="Record">KeyPair</a><a id="949" class="Symbol">)</a> <a id="951" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="953" class="Symbol">→</a> <a id="955" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="958" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="960" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="962" class="Symbol">→</a> <a id="964" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="967" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="969" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a>
<a id="971" href="Bitcoin.Tx.Crypto.html#925" class="Function">sig⋆</a> <a id="976" href="Bitcoin.Tx.Crypto.html#976" class="Bound">kss</a> <a id="980" href="Bitcoin.Tx.Crypto.html#980" class="Bound">tx</a> <a id="983" class="Symbol">=</a> <a id="985" class="Keyword">record</a> <a id="992" href="Bitcoin.Tx.Crypto.html#980" class="Bound">tx</a>
  <a id="997" class="Symbol">{</a> <a id="999" href="Bitcoin.Tx.Base.html#1193" class="Field">wit</a> <a id="1003" class="Symbol">=</a> <a id="1005" class="Symbol">(λ</a> <a id="1008" href="Bitcoin.Tx.Crypto.html#1008" class="Bound">i</a> <a id="1010" class="Symbol">→</a> <a id="1012" class="Symbol">_</a> <a id="1014" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1016" class="Symbol">(</a><a id="1017" href="Data.Vec.Base.html#7549" class="Function">fromList</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Function.Base.html#1563" class="Function">flip</a> <a id="1032" href="Bitcoin.Crypto.html#635" class="Postulate">SIG</a> <a id="1036" class="Symbol">(</a><a id="1037" href="Bitcoin.Tx.Crypto.html#681" class="Function">μ</a> <a id="1039" href="Bitcoin.Tx.Crypto.html#980" class="Bound">tx</a> <a id="1042" href="Bitcoin.Tx.Crypto.html#1008" class="Bound">i</a><a id="1043" class="Symbol">)</a> <a id="1045" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="1049" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="1056" href="Bitcoin.Tx.Crypto.html#976" class="Bound">kss</a> <a id="1060" href="Bitcoin.Tx.Crypto.html#1008" class="Bound">i</a><a id="1061" class="Symbol">)))</a> <a id="1065" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="1069" href="Data.Vec.Base.html#6020" class="Function">allFin</a> <a id="1076" class="Symbol">_</a> <a id="1078" class="Symbol">}</a>

<a id="1081" class="Comment">-- m-of-n multi-signature scheme</a>
<a id="ver"></a><a id="1114" href="Bitcoin.Tx.Crypto.html#1114" class="Function">ver</a> <a id="1118" class="Symbol">:</a> <a id="1120" href="Bitcoin.Crypto.html#311" class="Record">KeyPair</a> <a id="1128" class="Symbol">→</a> <a id="1130" href="Bitcoin.BasicTypes.html#244" class="Function">HashId</a> <a id="1137" class="Symbol">→</a> <a id="1139" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="1142" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="1144" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="1146" class="Symbol">→</a> <a id="1148" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1152" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="1154" class="Symbol">→</a> <a id="1156" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
<a id="1161" href="Bitcoin.Tx.Crypto.html#1114" class="Function">ver</a> <a id="1165" href="Bitcoin.Tx.Crypto.html#1165" class="Bound">k</a> <a id="1167" href="Bitcoin.Tx.Crypto.html#1167" class="Bound">σ</a> <a id="1169" href="Bitcoin.Tx.Crypto.html#1169" class="Bound">tx</a> <a id="1172" href="Bitcoin.Tx.Crypto.html#1172" class="Bound">i</a> <a id="1174" class="Symbol">=</a> <a id="1176" href="Bitcoin.Crypto.html#664" class="Postulate">VER</a> <a id="1180" href="Bitcoin.Tx.Crypto.html#1165" class="Bound">k</a> <a id="1182" href="Bitcoin.Tx.Crypto.html#1167" class="Bound">σ</a> <a id="1184" class="Symbol">(</a><a id="1185" href="Bitcoin.Tx.Crypto.html#681" class="Function">μ</a> <a id="1187" href="Bitcoin.Tx.Crypto.html#1169" class="Bound">tx</a> <a id="1190" href="Bitcoin.Tx.Crypto.html#1172" class="Bound">i</a><a id="1191" class="Symbol">)</a>

<a id="ver⋆"></a><a id="1194" href="Bitcoin.Tx.Crypto.html#1194" class="Function">ver⋆</a> <a id="1199" class="Symbol">:</a> <a id="1201" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1206" href="Bitcoin.Crypto.html#311" class="Record">KeyPair</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1221" href="Bitcoin.BasicTypes.html#244" class="Function">HashId</a> <a id="1228" class="Symbol">→</a> <a id="1230" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="1233" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="1235" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1243" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
<a id="1252" href="Bitcoin.Tx.Crypto.html#1194" class="Function">ver⋆</a> <a id="1257" class="Symbol">_</a>         <a id="1267" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="1275" class="Symbol">_</a> <a id="1277" class="Symbol">_</a> <a id="1279" class="Symbol">=</a> <a id="1281" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
<a id="1286" href="Bitcoin.Tx.Crypto.html#1194" class="CatchallClause Function">ver⋆</a><a id="1290" class="CatchallClause"> </a><a id="1291" href="Agda.Builtin.List.html#167" class="CatchallClause InductiveConstructor">[]</a><a id="1293" class="CatchallClause">        </a><a id="1301" class="CatchallClause Symbol">_</a><a id="1302" class="CatchallClause">       </a><a id="1309" class="CatchallClause Symbol">_</a><a id="1310" class="CatchallClause"> </a><a id="1311" class="CatchallClause Symbol">_</a> <a id="1313" class="Symbol">=</a> <a id="1315" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a>
<a id="1321" href="Bitcoin.Tx.Crypto.html#1194" class="Function">ver⋆</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Bitcoin.Tx.Crypto.html#1327" class="Bound">k</a> <a id="1329" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1331" href="Bitcoin.Tx.Crypto.html#1331" class="Bound">ks</a><a id="1333" class="Symbol">)</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Bitcoin.Tx.Crypto.html#1336" class="Bound">σ</a> <a id="1338" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1340" href="Bitcoin.Tx.Crypto.html#1340" class="Bound">σs</a><a id="1342" class="Symbol">)</a> <a id="1344" href="Bitcoin.Tx.Crypto.html#1344" class="Bound">T</a> <a id="1346" href="Bitcoin.Tx.Crypto.html#1346" class="Bound">i</a> <a id="1348" class="Symbol">=</a>
  <a id="1352" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="1355" href="Bitcoin.Tx.Crypto.html#1114" class="Function">ver</a> <a id="1359" href="Bitcoin.Tx.Crypto.html#1327" class="Bound">k</a> <a id="1361" href="Bitcoin.Tx.Crypto.html#1336" class="Bound">σ</a> <a id="1363" href="Bitcoin.Tx.Crypto.html#1344" class="Bound">T</a> <a id="1365" href="Bitcoin.Tx.Crypto.html#1346" class="Bound">i</a> <a id="1367" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="1372" href="Bitcoin.Tx.Crypto.html#1194" class="Function">ver⋆</a> <a id="1377" href="Bitcoin.Tx.Crypto.html#1331" class="Bound">ks</a> <a id="1380" href="Bitcoin.Tx.Crypto.html#1340" class="Bound">σs</a> <a id="1383" href="Bitcoin.Tx.Crypto.html#1344" class="Bound">T</a> <a id="1385" href="Bitcoin.Tx.Crypto.html#1346" class="Bound">i</a> <a id="1387" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="1392" href="Bitcoin.Tx.Crypto.html#1194" class="Function">ver⋆</a> <a id="1397" class="Symbol">(</a><a id="1398" href="Bitcoin.Tx.Crypto.html#1327" class="Bound">k</a> <a id="1400" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1402" href="Bitcoin.Tx.Crypto.html#1331" class="Bound">ks</a><a id="1404" class="Symbol">)</a> <a id="1406" href="Bitcoin.Tx.Crypto.html#1340" class="Bound">σs</a> <a id="1409" href="Bitcoin.Tx.Crypto.html#1344" class="Bound">T</a> <a id="1411" href="Bitcoin.Tx.Crypto.html#1346" class="Bound">i</a>

<a id="hashTxⁱ"></a><a id="1414" href="Bitcoin.Tx.Crypto.html#1414" class="Function">hashTxⁱ</a> <a id="1422" class="Symbol">:</a> <a id="1424" href="Bitcoin.Tx.Base.html#2008" class="Record">TxInput′</a> <a id="1433" class="Symbol">→</a> <a id="1435" href="Bitcoin.Tx.Base.html#359" class="Record">TxInput</a>
<a id="1443" href="Bitcoin.Tx.Crypto.html#1414" class="Function">hashTxⁱ</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Bitcoin.Tx.Crypto.html#1452" class="Bound">tx</a> <a id="1455" href="Bitcoin.Tx.Base.html#2044" class="InductiveConstructor Operator">at</a> <a id="1458" href="Bitcoin.Tx.Crypto.html#1458" class="Bound">i</a><a id="1459" class="Symbol">)</a> <a id="1461" class="Symbol">=</a> <a id="1463" class="Symbol">(</a><a id="1464" href="Bitcoin.Tx.Crypto.html#1452" class="Bound">tx</a> <a id="1467" href="Bitcoin.Crypto.html#589" class="Postulate Operator">♯</a><a id="1468" class="Symbol">)</a> <a id="1470" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1473" class="Symbol">(</a><a id="1474" href="Prelude.ToN.html#139" class="Field">toℕ</a> <a id="1478" href="Bitcoin.Tx.Crypto.html#1458" class="Bound">i</a><a id="1479" class="Symbol">)</a>

<a id="_♯at_"></a><a id="1482" href="Bitcoin.Tx.Crypto.html#1482" class="Function Operator">_♯at_</a> <a id="1488" class="Symbol">:</a> <a id="1490" href="Bitcoin.Tx.Base.html#1114" class="Record">Tx</a> <a id="1493" href="Bitcoin.Tx.Base.html#2199" class="Generalizable">i</a> <a id="1495" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1503" href="Bitcoin.Tx.Base.html#2204" class="Generalizable">o</a> <a id="1505" class="Symbol">→</a> <a id="1507" href="Bitcoin.Tx.Base.html#359" class="Record">TxInput</a>
<a id="1515" href="Bitcoin.Tx.Crypto.html#1515" class="Bound">tx</a> <a id="1518" href="Bitcoin.Tx.Crypto.html#1482" class="Function Operator">♯at</a> <a id="1522" href="Bitcoin.Tx.Crypto.html#1522" class="Bound">i</a> <a id="1524" class="Symbol">=</a> <a id="1526" class="Symbol">(</a><a id="1527" href="Bitcoin.Tx.Crypto.html#1515" class="Bound">tx</a> <a id="1530" href="Bitcoin.Crypto.html#589" class="Postulate Operator">♯</a><a id="1531" class="Symbol">)</a> <a id="1533" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1536" href="Prelude.ToN.html#139" class="Field">toℕ</a> <a id="1540" href="Bitcoin.Tx.Crypto.html#1522" class="Bound">i</a>
</pre></body></html>