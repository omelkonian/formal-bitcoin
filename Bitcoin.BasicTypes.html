<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.BasicTypes</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master/Bitcoin/BasicTypes.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Basic types.</a>
<a id="90" class="Comment">------------------------------------------------------------------------</a>
<a id="163" class="Keyword">module</a> <a id="170" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a> <a id="189" class="Keyword">where</a>

<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="220" class="Symbol">;</a> <a id="222" class="Keyword">open</a> <a id="227" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="237" class="Keyword">open</a> <a id="242" href="Prelude.Init.html#3301" class="Module">Nat</a> <a id="246" class="Keyword">using</a> <a id="252" class="Symbol">(</a><a id="253" href="Data.Nat.Base.html#1310" class="Primitive Operator">_&lt;ᵇ_</a><a id="257" class="Symbol">)</a>

<a id="Value"></a><a id="260" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a>  <a id="267" class="Symbol">=</a> <a id="269" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="271" class="Comment">-- amount in Satoshis</a>
<a id="Time"></a><a id="293" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a>   <a id="300" class="Symbol">=</a> <a id="302" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="304" class="Comment">-- Unit time: number of seconds since 1/1/1970</a>
<a id="HashId"></a><a id="351" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a> <a id="358" class="Symbol">=</a> <a id="360" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="362" class="Comment">-- hashes as integers</a>
<a id="384" class="Comment">-- HashId = Bitstring</a>

<a id="407" class="Keyword">variable</a>
  <a id="418" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a> <a id="420" href="Bitcoin.BasicTypes.html#420" class="Generalizable">n′</a> <a id="423" class="Symbol">:</a> <a id="425" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="429" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a> <a id="431" href="Bitcoin.BasicTypes.html#431" class="Generalizable">t′</a> <a id="434" class="Symbol">:</a> <a id="436" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a>

<a id="442" class="Comment">-- ** Calendar dates in Unix time.</a>
<a id="_seconds"></a><a id="477" href="Bitcoin.BasicTypes.html#477" class="Function Operator">_seconds</a> <a id="_minutes"></a><a id="486" href="Bitcoin.BasicTypes.html#486" class="Function Operator">_minutes</a> <a id="_hours"></a><a id="495" href="Bitcoin.BasicTypes.html#495" class="Function Operator">_hours</a> <a id="_days"></a><a id="502" href="Bitcoin.BasicTypes.html#502" class="Function Operator">_days</a> <a id="_months"></a><a id="508" href="Bitcoin.BasicTypes.html#508" class="Function Operator">_months</a> <a id="_years"></a><a id="516" href="Bitcoin.BasicTypes.html#516" class="Function Operator">_years</a> <a id="523" class="Symbol">:</a> <a id="525" href="Algebra.Core.html#484" class="Function">Op₁</a> <a id="529" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a>
<a id="534" href="Bitcoin.BasicTypes.html#477" class="Function Operator">_seconds</a> <a id="543" class="Symbol">=</a> <a id="545" href="Function.Base.html#624" class="Function">id</a>
<a id="548" href="Bitcoin.BasicTypes.html#486" class="Function Operator">_minutes</a> <a id="557" class="Symbol">=</a> <a id="559" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">_*</a> <a id="562" class="Number">60</a>
<a id="565" href="Bitcoin.BasicTypes.html#495" class="Function Operator">_hours</a>   <a id="574" class="Symbol">=</a> <a id="576" href="Bitcoin.BasicTypes.html#486" class="Function Operator">_minutes</a> <a id="585" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="587" class="Symbol">(</a><a id="588" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">_*</a> <a id="591" class="Number">60</a><a id="593" class="Symbol">)</a>
<a id="595" href="Bitcoin.BasicTypes.html#502" class="Function Operator">_days</a>    <a id="604" class="Symbol">=</a> <a id="606" href="Bitcoin.BasicTypes.html#495" class="Function Operator">_hours</a>   <a id="615" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="617" class="Symbol">(</a><a id="618" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">_*</a> <a id="621" class="Number">24</a><a id="623" class="Symbol">)</a>
<a id="625" href="Bitcoin.BasicTypes.html#508" class="Function Operator">_months</a>  <a id="634" class="Symbol">=</a> <a id="636" href="Bitcoin.BasicTypes.html#502" class="Function Operator">_days</a>    <a id="645" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="647" class="Symbol">(</a><a id="648" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">_*</a> <a id="651" class="Number">30</a><a id="653" class="Symbol">)</a>
<a id="655" href="Bitcoin.BasicTypes.html#516" class="Function Operator">_years</a>   <a id="664" class="Symbol">=</a> <a id="666" href="Bitcoin.BasicTypes.html#508" class="Function Operator">_months</a>  <a id="675" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="677" class="Symbol">(</a><a id="678" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">_*</a> <a id="681" class="Number">12</a><a id="683" class="Symbol">)</a>

<a id="686" class="Keyword">record</a> <a id="Date"></a><a id="693" href="Bitcoin.BasicTypes.html#693" class="Record">Date</a> <a id="698" class="Symbol">:</a> <a id="700" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="705" class="Keyword">where</a>
  <a id="713" class="Keyword">constructor</a> <a id="_/_/_"></a><a id="725" href="Bitcoin.BasicTypes.html#725" class="InductiveConstructor Operator">_/_/_</a>
  <a id="733" class="Keyword">field</a> <a id="Date.day"></a><a id="739" href="Bitcoin.BasicTypes.html#739" class="Field">day</a> <a id="Date.month"></a><a id="743" href="Bitcoin.BasicTypes.html#743" class="Field">month</a> <a id="Date.year"></a><a id="749" href="Bitcoin.BasicTypes.html#749" class="Field">year</a> <a id="754" class="Symbol">:</a> <a id="756" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="759" class="Keyword">infix</a> <a id="765" class="Number">10</a> <a id="768" href="Bitcoin.BasicTypes.html#775" class="Function Operator">date∶_</a>
<a id="date∶_"></a><a id="775" href="Bitcoin.BasicTypes.html#775" class="Function Operator">date∶_</a> <a id="782" class="Symbol">:</a> <a id="784" href="Bitcoin.BasicTypes.html#693" class="Record">Date</a> <a id="789" class="Symbol">→</a> <a id="791" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a>
<a id="796" href="Bitcoin.BasicTypes.html#775" class="Function Operator">date∶</a> <a id="802" href="Bitcoin.BasicTypes.html#802" class="Bound">d</a> <a id="804" href="Bitcoin.BasicTypes.html#725" class="InductiveConstructor Operator">/</a> <a id="806" href="Bitcoin.BasicTypes.html#806" class="Bound">m</a> <a id="808" href="Bitcoin.BasicTypes.html#725" class="InductiveConstructor Operator">/</a> <a id="810" href="Bitcoin.BasicTypes.html#810" class="Bound">y</a> <a id="812" class="Symbol">=</a> <a id="814" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="817" href="Bitcoin.BasicTypes.html#810" class="Bound">y</a> <a id="819" href="Data.Nat.Base.html#1310" class="Primitive Operator">&lt;ᵇ</a> <a id="822" class="Number">1970</a> <a id="827" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="832" class="Number">0</a> <a id="834" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="839" class="Symbol">(</a><a id="840" href="Bitcoin.BasicTypes.html#810" class="Bound">y</a> <a id="842" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="844" class="Number">1970</a><a id="848" class="Symbol">)</a> <a id="850" href="Bitcoin.BasicTypes.html#516" class="Function Operator">years</a> <a id="856" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="858" href="Bitcoin.BasicTypes.html#806" class="Bound">m</a> <a id="860" href="Bitcoin.BasicTypes.html#508" class="Function Operator">months</a> <a id="867" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="869" href="Bitcoin.BasicTypes.html#802" class="Bound">d</a> <a id="871" href="Bitcoin.BasicTypes.html#502" class="Function Operator">days</a>
</pre></body></html>