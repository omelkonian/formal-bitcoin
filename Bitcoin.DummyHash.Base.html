<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.DummyHash.Base</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">---------------------------------------------------------------------------------</a>
<a id="83" class="Comment">-- Concrete &quot;dummy&quot; hashing functions, for use in examples.</a>
<a id="143" class="Comment">-- NB: in contrast to postulated cryptographic function, these will compute</a>
<a id="219" class="Comment">---------------------------------------------------------------------------------</a>
<a id="301" class="Keyword">module</a> <a id="308" href="Bitcoin.DummyHash.Base.html" class="Module">Bitcoin.DummyHash.Base</a> <a id="331" class="Keyword">where</a>

<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Function.html" class="Module">Function</a> <a id="359" class="Keyword">using</a> <a id="365" class="Symbol">(</a><a id="366" href="Function.Base.html#992" class="Function Operator">_∘_</a><a id="369" class="Symbol">)</a>

<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.Product.html" class="Module">Data.Product</a>     <a id="401" class="Keyword">using</a> <a id="407" class="Symbol">(</a><a id="408" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="411" class="Symbol">;</a> <a id="413" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="416" class="Symbol">)</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Data.Nat.html" class="Module">Data.Nat</a>         <a id="447" class="Keyword">using</a> <a id="453" class="Symbol">(</a><a id="454" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Integer.html" class="Module">Data.Integer</a>     <a id="486" class="Keyword">using</a> <a id="492" class="Symbol">(</a><a id="493" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="494" class="Symbol">;</a> <a id="496" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="498" class="Symbol">;</a> <a id="500" href="Data.Integer.Base.html#2084" class="Function Operator">∣_∣</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.Char.html" class="Module">Data.Char</a>        <a id="534" class="Keyword">using</a> <a id="540" class="Symbol">(</a><a id="541" href="Data.Char.Base.html#999" class="Primitive">toℕ</a><a id="544" class="Symbol">)</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.String.html" class="Module">Data.String</a> <a id="570" class="Symbol">as</a> <a id="573" class="Module">S</a> <a id="575" class="Keyword">using</a> <a id="581" class="Symbol">(</a><a id="582" href="Agda.Builtin.String.html#274" class="Postulate">String</a><a id="588" class="Symbol">)</a>
<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Data.List.html" class="Module">Data.List</a>        <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="630" class="Symbol">;</a> <a id="632" href="Data.List.Base.html#4217" class="Function">sum</a><a id="635" class="Symbol">;</a> <a id="637" href="Data.List.Base.html#1497" class="Function">map</a><a id="640" class="Symbol">;</a> <a id="642" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="645" class="Symbol">;</a> <a id="647" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="649" class="Symbol">)</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="672" class="Symbol">as</a> <a id="675" class="Module">V</a>    <a id="680" class="Keyword">using</a> <a id="686" class="Symbol">(</a><a id="687" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="690" class="Symbol">)</a>

<a id="693" class="Keyword">open</a> <a id="698" class="Keyword">import</a> <a id="705" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a>

<a id="HashFunction"></a><a id="725" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="738" class="Symbol">:</a> <a id="740" class="PrimitiveType">Set</a> <a id="744" class="Symbol">→</a> <a id="746" class="PrimitiveType">Set</a>
<a id="750" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="763" href="Bitcoin.DummyHash.Base.html#763" class="Bound">A</a> <a id="765" class="Symbol">=</a> <a id="767" href="Bitcoin.DummyHash.Base.html#763" class="Bound">A</a> <a id="769" class="Symbol">→</a> <a id="771" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

<a id="merge♯"></a><a id="774" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="781" class="Symbol">:</a> <a id="783" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="788" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="790" class="Symbol">→</a> <a id="792" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="794" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="801" class="Symbol">=</a> <a id="803" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+_</a> <a id="806" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="808" href="Data.List.Base.html#4217" class="Function">sum</a> <a id="812" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="814" href="Data.List.Base.html#1497" class="Function">map</a> <a id="818" href="Data.Integer.Base.html#2084" class="Function Operator">∣_∣</a>

<a id="nat♯"></a><a id="823" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="828" class="Symbol">:</a> <a id="830" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="843" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="845" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="850" class="Symbol">=</a> <a id="852" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+_</a>

<a id="list♯"></a><a id="856" href="Bitcoin.DummyHash.Base.html#856" class="Function">list♯</a> <a id="862" class="Symbol">:</a> <a id="864" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="877" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a> <a id="879" class="Symbol">→</a> <a id="881" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="894" class="Symbol">(</a><a id="895" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="900" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a><a id="901" class="Symbol">)</a>
<a id="903" href="Bitcoin.DummyHash.Base.html#856" class="Function">list♯</a> <a id="909" href="Bitcoin.DummyHash.Base.html#909" class="Bound">h</a> <a id="911" class="Symbol">=</a> <a id="913" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="920" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="922" href="Data.List.Base.html#1497" class="Function">map</a> <a id="926" href="Bitcoin.DummyHash.Base.html#909" class="Bound">h</a>

<a id="vec♯"></a><a id="929" href="Bitcoin.DummyHash.Base.html#929" class="Function">vec♯</a> <a id="934" class="Symbol">:</a> <a id="936" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="949" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a> <a id="951" class="Symbol">→</a> <a id="953" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="966" class="Symbol">(</a><a id="967" href="Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="971" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a> <a id="973" href="Bitcoin.BasicTypes.html#380" class="Generalizable">n</a><a id="974" class="Symbol">)</a>
<a id="976" href="Bitcoin.DummyHash.Base.html#929" class="Function">vec♯</a> <a id="981" href="Bitcoin.DummyHash.Base.html#981" class="Bound">h</a> <a id="983" class="Symbol">=</a> <a id="985" href="Bitcoin.DummyHash.Base.html#856" class="Function">list♯</a> <a id="991" href="Bitcoin.DummyHash.Base.html#981" class="Bound">h</a> <a id="993" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="995" href="Data.Vec.Base.html#7399" class="Function">V.toList</a>

<a id="pair♯"></a><a id="1005" href="Bitcoin.DummyHash.Base.html#1005" class="Function">pair♯</a> <a id="1011" class="Symbol">:</a> <a id="1013" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="1026" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a> <a id="1028" class="Symbol">→</a> <a id="1030" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="1043" href="Bitcoin.BasicTypes.html#368" class="Generalizable">B</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Bitcoin.BasicTypes.html#366" class="Generalizable">A</a> <a id="1063" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1065" href="Bitcoin.BasicTypes.html#368" class="Generalizable">B</a><a id="1066" class="Symbol">)</a>
<a id="1068" href="Bitcoin.DummyHash.Base.html#1005" class="Function">pair♯</a> <a id="1074" href="Bitcoin.DummyHash.Base.html#1074" class="Bound">h₁</a> <a id="1077" href="Bitcoin.DummyHash.Base.html#1077" class="Bound">h₂</a> <a id="1080" class="Symbol">(</a><a id="1081" href="Bitcoin.DummyHash.Base.html#1081" class="Bound">a</a> <a id="1083" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1085" href="Bitcoin.DummyHash.Base.html#1085" class="Bound">b</a><a id="1086" class="Symbol">)</a> <a id="1088" class="Symbol">=</a> <a id="1090" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Bitcoin.DummyHash.Base.html#1074" class="Bound">h₁</a> <a id="1101" href="Bitcoin.DummyHash.Base.html#1081" class="Bound">a</a> <a id="1103" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1105" href="Bitcoin.DummyHash.Base.html#1077" class="Bound">h₂</a> <a id="1108" href="Bitcoin.DummyHash.Base.html#1085" class="Bound">b</a> <a id="1110" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1112" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1114" class="Symbol">)</a>

<a id="str♯"></a><a id="1117" href="Bitcoin.DummyHash.Base.html#1117" class="Function">str♯</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="1137" href="Agda.Builtin.String.html#274" class="Postulate">String</a>
<a id="1144" href="Bitcoin.DummyHash.Base.html#1117" class="Function">str♯</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="Bitcoin.DummyHash.Base.html#856" class="Function">list♯</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+_</a> <a id="1161" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1163" href="Data.Char.Base.html#999" class="Primitive">toℕ</a><a id="1166" class="Symbol">)</a> <a id="1168" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="1170" href="Data.String.Base.html#1413" class="Primitive">S.toList</a>
</pre></body></html>