<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.Script.Base</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master/Bitcoin/Script/Base.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Basic Script datatype.</a>
<a id="100" class="Comment">------------------------------------------------------------------------</a>
<a id="173" class="Keyword">module</a> <a id="180" href="Bitcoin.Script.Base.html" class="Module">Bitcoin.Script.Base</a> <a id="200" class="Keyword">where</a>

<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="231" class="Symbol">;</a> <a id="233" class="Keyword">open</a> <a id="238" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a>

<a id="ScriptContext"></a><a id="382" href="Bitcoin.Script.Base.html#382" class="Function">ScriptContext</a> <a id="396" class="Symbol">=</a> <a id="398" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="401" class="Keyword">data</a> <a id="ScriptType"></a><a id="406" href="Bitcoin.Script.Base.html#406" class="Datatype">ScriptType</a> <a id="417" class="Symbol">:</a> <a id="419" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="424" class="Keyword">where</a>
  <a id="ScriptType.`Bool"></a><a id="432" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="ScriptType.`ℤ"></a><a id="438" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="441" class="Symbol">:</a> <a id="443" href="Bitcoin.Script.Base.html#406" class="Datatype">ScriptType</a>
<a id="454" class="Keyword">unquoteDecl</a> <a id="DecEqᵗʸ"></a><a id="466" href="Bitcoin.Script.Base.html#466" class="Function">DecEqᵗʸ</a> <a id="474" class="Symbol">=</a> <a id="476" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="483" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="489" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="491" class="Keyword">quote</a> <a id="497" href="Bitcoin.Script.Base.html#406" class="Datatype">ScriptType</a> <a id="508" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="510" href="Bitcoin.Script.Base.html#466" class="Function">DecEqᵗʸ</a> <a id="518" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

<a id="521" class="Keyword">variable</a>
  <a id="532" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="536" href="Bitcoin.Script.Base.html#536" class="Generalizable">ctx′</a> <a id="541" class="Symbol">:</a> <a id="543" href="Bitcoin.Script.Base.html#382" class="Function">ScriptContext</a>
  <a id="559" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a> <a id="562" href="Bitcoin.Script.Base.html#562" class="Generalizable">ty′</a> <a id="566" class="Symbol">:</a> <a id="568" href="Bitcoin.Script.Base.html#406" class="Datatype">ScriptType</a>

<a id="580" class="Keyword">module</a> <a id="587" href="Bitcoin.Script.Base.html#587" class="Module">_</a> <a id="589" class="Symbol">(</a><a id="590" href="Bitcoin.Script.Base.html#590" class="Bound">ctx</a> <a id="594" class="Symbol">:</a> <a id="596" href="Bitcoin.Script.Base.html#382" class="Function">ScriptContext</a><a id="609" class="Symbol">)</a> <a id="611" class="Keyword">where</a> <a id="617" class="Comment">-- size of the environment/context</a>
  <a id="654" class="Keyword">data</a> <a id="659" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="666" class="Symbol">:</a> <a id="668" href="Bitcoin.Script.Base.html#406" class="Datatype">ScriptType</a>           <a id="689" class="Comment">-- result type</a>
              <a id="718" class="Symbol">→</a> <a id="720" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="725" class="Keyword">where</a>

    <a id="736" class="Comment">-- Variables</a>
    <a id="753" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="757" class="Symbol">:</a> <a id="759" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="763" href="Bitcoin.Script.Base.html#590" class="Bound">ctx</a> <a id="767" class="Symbol">→</a> <a id="769" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="776" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a>

    <a id="784" class="Comment">-- Arithmetic/boolean operations</a>
    <a id="821" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="823" class="Symbol">:</a> <a id="825" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="827" class="Symbol">→</a> <a id="829" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="836" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a>
    <a id="843" href="Bitcoin.Script.Base.html#843" class="InductiveConstructor Operator">_`+_</a> <a id="848" href="Bitcoin.Script.Base.html#848" class="InductiveConstructor Operator">_`-_</a> <a id="853" class="Symbol">:</a> <a id="855" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="862" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="865" class="Symbol">→</a> <a id="867" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="874" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="877" class="Symbol">→</a> <a id="879" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="886" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a>
    <a id="893" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a> <a id="898" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a> <a id="903" class="Symbol">:</a> <a id="905" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="912" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="915" class="Symbol">→</a> <a id="917" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="924" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="927" class="Symbol">→</a> <a id="929" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="936" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>

    <a id="947" class="Comment">-- Conditional statement</a>
    <a id="976" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if_then_else_</a> <a id="991" class="Symbol">:</a> <a id="993" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1000" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1006" class="Symbol">→</a> <a id="1008" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1015" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a> <a id="1018" class="Symbol">→</a> <a id="1020" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1027" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a> <a id="1030" class="Symbol">→</a> <a id="1032" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1039" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a>

    <a id="1047" class="Comment">-- Size and hashing</a>
    <a id="1071" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣_∣</a> <a id="1075" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="1080" class="Symbol">:</a> <a id="1082" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1089" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a> <a id="1092" class="Symbol">→</a> <a id="1094" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1101" href="Bitcoin.Script.Base.html#438" class="InductiveConstructor">`ℤ</a>

    <a id="1109" class="Comment">-- Signature verification</a>
    <a id="1139" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1153" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a> <a id="1161" class="Symbol">→</a> <a id="1163" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1168" class="Symbol">(</a><a id="1169" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1173" href="Bitcoin.Script.Base.html#590" class="Bound">ctx</a><a id="1176" class="Symbol">)</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1187" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>

    <a id="1198" class="Comment">-- Temporal constraints</a>
    <a id="1226" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">absAfter_⇒_</a> <a id="1238" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">relAfter_⇒_</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1266" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1278" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a>

  <a id="1284" class="Keyword">infix</a>  <a id="1291" class="Number">15</a> <a id="1294" href="Bitcoin.Script.Base.html#843" class="InductiveConstructor Operator">_`+_</a> <a id="1299" href="Bitcoin.Script.Base.html#848" class="InductiveConstructor Operator">_`-_</a>
  <a id="1306" class="Keyword">infix</a>  <a id="1313" class="Number">14</a> <a id="1316" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a> <a id="1321" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a>
  <a id="1328" class="Keyword">infix</a>  <a id="1335" class="Number">12</a> <a id="1338" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if_then_else_</a> <a id="1353" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">absAfter_⇒_</a> <a id="1365" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">relAfter_⇒_</a>

<a id="1378" class="Keyword">unquoteDecl</a> <a id="DecEqˢ"></a><a id="1390" href="Bitcoin.Script.Base.html#1390" class="Function">DecEqˢ</a> <a id="1397" class="Symbol">=</a> <a id="1399" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="1406" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="1412" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1414" class="Keyword">quote</a> <a id="1420" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1427" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1429" href="Bitcoin.Script.Base.html#1390" class="Function">DecEqˢ</a> <a id="1436" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
<a id="∃Script"></a><a id="1438" href="Bitcoin.Script.Base.html#1438" class="Function">∃Script</a> <a id="1446" class="Symbol">=</a> <a id="1448" href="Data.Product.html#1815" class="Function">∃[</a> <a id="1451" href="Bitcoin.Script.Base.html#1451" class="Bound">ctx</a> <a id="1455" href="Data.Product.html#1815" class="Function">]</a> <a id="1457" href="Data.Product.html#1815" class="Function">∃[</a> <a id="1460" href="Bitcoin.Script.Base.html#1460" class="Bound">ty</a> <a id="1463" href="Data.Product.html#1815" class="Function">]</a> <a id="1465" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1472" href="Bitcoin.Script.Base.html#1451" class="Bound">ctx</a> <a id="1476" href="Bitcoin.Script.Base.html#1460" class="Bound">ty</a>

<a id="1480" class="Comment">-- smart constructors</a>
<a id="`false"></a><a id="1502" href="Bitcoin.Script.Base.html#1502" class="Function">`false</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1518" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1522" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="1528" href="Bitcoin.Script.Base.html#1502" class="Function">`false</a> <a id="1535" class="Symbol">=</a> <a id="1537" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="1539" class="Number">1</a> <a id="1541" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="1544" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="1546" class="Number">0</a>

<a id="`true"></a><a id="1549" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a> <a id="1555" class="Symbol">:</a> <a id="1557" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1564" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1568" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="1574" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a> <a id="1580" class="Symbol">=</a> <a id="1582" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="1584" class="Number">1</a> <a id="1586" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="1589" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="1591" class="Number">1</a>

<a id="_`∧_"></a><a id="1594" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a> <a id="1599" class="Symbol">:</a> <a id="1601" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1608" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1612" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1618" class="Symbol">→</a> <a id="1620" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1627" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1631" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1637" class="Symbol">→</a> <a id="1639" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1646" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1650" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="1656" href="Bitcoin.Script.Base.html#1656" class="Bound">e</a> <a id="1658" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="1661" href="Bitcoin.Script.Base.html#1661" class="Bound">e′</a> <a id="1664" class="Symbol">=</a> <a id="1666" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if</a> <a id="1670" href="Bitcoin.Script.Base.html#1656" class="Bound">e</a> <a id="1672" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">then</a> <a id="1677" href="Bitcoin.Script.Base.html#1661" class="Bound">e′</a> <a id="1680" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">else</a> <a id="1685" href="Bitcoin.Script.Base.html#1502" class="Function">`false</a>

<a id="_`∨_"></a><a id="1693" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1707" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1711" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1717" class="Symbol">→</a> <a id="1719" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1726" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1730" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1736" class="Symbol">→</a> <a id="1738" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1745" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1749" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="1755" href="Bitcoin.Script.Base.html#1755" class="Bound">e</a> <a id="1757" href="Bitcoin.Script.Base.html#1693" class="Function Operator">`∨</a> <a id="1760" href="Bitcoin.Script.Base.html#1760" class="Bound">e′</a> <a id="1763" class="Symbol">=</a> <a id="1765" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if</a> <a id="1769" href="Bitcoin.Script.Base.html#1755" class="Bound">e</a> <a id="1771" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">then</a> <a id="1776" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a> <a id="1782" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">else</a> <a id="1787" href="Bitcoin.Script.Base.html#1760" class="Bound">e′</a>

<a id="`not"></a><a id="1791" href="Bitcoin.Script.Base.html#1791" class="Function">`not</a> <a id="1796" class="Symbol">:</a> <a id="1798" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1805" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1809" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1815" class="Symbol">→</a> <a id="1817" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1824" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="1828" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="1834" href="Bitcoin.Script.Base.html#1791" class="Function">`not</a> <a id="1839" href="Bitcoin.Script.Base.html#1839" class="Bound">e</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if</a> <a id="1847" href="Bitcoin.Script.Base.html#1839" class="Bound">e</a> <a id="1849" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">then</a> <a id="1854" href="Bitcoin.Script.Base.html#1502" class="Function">`false</a> <a id="1861" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">else</a> <a id="1866" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a>

<a id="1873" class="Keyword">data</a> <a id="BitcoinScript"></a><a id="1878" href="Bitcoin.Script.Base.html#1878" class="Datatype">BitcoinScript</a> <a id="1892" class="Symbol">(</a><a id="1893" href="Bitcoin.Script.Base.html#1893" class="Bound">ctx</a> <a id="1897" class="Symbol">:</a> <a id="1899" href="Bitcoin.Script.Base.html#382" class="Function">ScriptContext</a><a id="1912" class="Symbol">)</a> <a id="1914" class="Symbol">:</a> <a id="1916" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1921" class="Keyword">where</a>
  <a id="BitcoinScript.ƛ_"></a><a id="1929" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ_</a> <a id="1932" class="Symbol">:</a> <a id="1934" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="1941" href="Bitcoin.Script.Base.html#1893" class="Bound">ctx</a> <a id="1945" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="Bitcoin.Script.Base.html#1878" class="Datatype">BitcoinScript</a> <a id="1967" href="Bitcoin.Script.Base.html#1893" class="Bound">ctx</a>

<a id="1972" class="Keyword">unquoteDecl</a> <a id="DecEqᵇˢ"></a><a id="1984" href="Bitcoin.Script.Base.html#1984" class="Function">DecEqᵇˢ</a> <a id="1992" class="Symbol">=</a> <a id="1994" href="Prelude.Generics.Deriving.html#1365" class="Macro">DERIVE</a> <a id="2001" href="Prelude.DecEq.Core.html#148" class="Record">DecEq</a> <a id="2007" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2009" class="Keyword">quote</a> <a id="2015" href="Bitcoin.Script.Base.html#1878" class="Datatype">BitcoinScript</a> <a id="2029" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2031" href="Bitcoin.Script.Base.html#1984" class="Function">DecEqᵇˢ</a> <a id="2039" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
<a id="∃BitcoinScript"></a><a id="2041" href="Bitcoin.Script.Base.html#2041" class="Function">∃BitcoinScript</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Data.Product.html#1815" class="Function">∃[</a> <a id="2061" href="Bitcoin.Script.Base.html#2061" class="Bound">ctx</a> <a id="2065" href="Data.Product.html#1815" class="Function">]</a> <a id="2067" href="Bitcoin.Script.Base.html#1878" class="Datatype">BitcoinScript</a> <a id="2081" href="Bitcoin.Script.Base.html#2061" class="Bound">ctx</a>

<a id="2086" class="Keyword">infixr</a> <a id="2093" class="Number">13</a> <a id="2096" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a> <a id="2101" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a>
<a id="2106" class="Keyword">infix</a>  <a id="2113" class="Number">11</a> <a id="2116" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ_</a>

<a id="2120" href="Bitcoin.Script.Base.html#2120" class="Function">_</a> <a id="2122" class="Symbol">:</a> <a id="2124" href="Bitcoin.Script.Base.html#1878" class="Datatype">BitcoinScript</a> <a id="2138" class="Number">2</a>
<a id="2140" class="Symbol">_</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="2146" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2153" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2156" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2158" class="Number">0</a> <a id="2160" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2162" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="2165" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="2170" class="Symbol">(</a><a id="2171" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="2175" class="Number">1</a><a id="2176" class="Symbol">)</a> <a id="2178" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="2181" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="2186" class="Symbol">(</a><a id="2187" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="2191" class="Number">0</a><a id="2192" class="Symbol">)</a>

<a id="2195" class="Comment">-- Combining scripts</a>
<a id="mapFin"></a><a id="2216" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2223" class="Symbol">:</a> <a id="2225" class="Symbol">∀</a> <a id="2227" class="Symbol">{</a><a id="2228" href="Bitcoin.Script.Base.html#2228" class="Bound">n</a> <a id="2230" href="Bitcoin.Script.Base.html#2230" class="Bound">m</a><a id="2231" class="Symbol">}</a> <a id="2233" class="Symbol">→</a> <a id="2235" href="Bitcoin.Script.Base.html#2228" class="Bound">n</a> <a id="2237" href="Prelude.Ord.Core.html#209" class="Field Operator">≤</a> <a id="2239" href="Bitcoin.Script.Base.html#2230" class="Bound">m</a> <a id="2241" class="Symbol">→</a> <a id="2243" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="2250" href="Bitcoin.Script.Base.html#2228" class="Bound">n</a> <a id="2252" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a> <a id="2255" class="Symbol">→</a> <a id="2257" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="2264" href="Bitcoin.Script.Base.html#2230" class="Bound">m</a> <a id="2266" href="Bitcoin.Script.Base.html#559" class="Generalizable">ty</a>
<a id="2269" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2276" href="Bitcoin.Script.Base.html#2276" class="Bound">n≤m</a> <a id="2280" class="Symbol">(</a><a id="2281" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="2285" href="Bitcoin.Script.Base.html#2285" class="Bound">x</a><a id="2286" class="Symbol">)</a>                 <a id="2304" class="Symbol">=</a> <a id="2306" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="2310" class="Symbol">(</a><a id="2311" href="Data.Fin.Base.html#3126" class="Function">F.inject≤</a> <a id="2321" href="Bitcoin.Script.Base.html#2285" class="Bound">x</a> <a id="2323" href="Bitcoin.Script.Base.html#2276" class="Bound">n≤m</a><a id="2326" class="Symbol">)</a>
<a id="2328" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2335" href="Bitcoin.Script.Base.html#2335" class="Bound">n≤m</a> <a id="2339" class="Symbol">(</a><a id="2340" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="2342" href="Bitcoin.Script.Base.html#2342" class="Bound">x</a><a id="2343" class="Symbol">)</a>                   <a id="2363" class="Symbol">=</a> <a id="2365" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="2367" href="Bitcoin.Script.Base.html#2342" class="Bound">x</a>
<a id="2369" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2376" href="Bitcoin.Script.Base.html#2376" class="Bound">n≤m</a> <a id="2380" class="Symbol">(</a><a id="2381" href="Bitcoin.Script.Base.html#2381" class="Bound">s</a> <a id="2383" href="Bitcoin.Script.Base.html#843" class="InductiveConstructor Operator">`+</a> <a id="2386" href="Bitcoin.Script.Base.html#2386" class="Bound">s₁</a><a id="2388" class="Symbol">)</a>               <a id="2404" class="Symbol">=</a> <a id="2406" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2413" href="Bitcoin.Script.Base.html#2376" class="Bound">n≤m</a> <a id="2417" href="Bitcoin.Script.Base.html#2381" class="Bound">s</a> <a id="2419" href="Bitcoin.Script.Base.html#843" class="InductiveConstructor Operator">`+</a> <a id="2422" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2429" href="Bitcoin.Script.Base.html#2376" class="Bound">n≤m</a> <a id="2433" href="Bitcoin.Script.Base.html#2386" class="Bound">s₁</a>
<a id="2436" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2443" href="Bitcoin.Script.Base.html#2443" class="Bound">n≤m</a> <a id="2447" class="Symbol">(</a><a id="2448" href="Bitcoin.Script.Base.html#2448" class="Bound">s</a> <a id="2450" href="Bitcoin.Script.Base.html#848" class="InductiveConstructor Operator">`-</a> <a id="2453" href="Bitcoin.Script.Base.html#2453" class="Bound">s₁</a><a id="2455" class="Symbol">)</a>               <a id="2471" class="Symbol">=</a> <a id="2473" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2480" href="Bitcoin.Script.Base.html#2443" class="Bound">n≤m</a> <a id="2484" href="Bitcoin.Script.Base.html#2448" class="Bound">s</a> <a id="2486" href="Bitcoin.Script.Base.html#848" class="InductiveConstructor Operator">`-</a> <a id="2489" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2496" href="Bitcoin.Script.Base.html#2443" class="Bound">n≤m</a> <a id="2500" href="Bitcoin.Script.Base.html#2453" class="Bound">s₁</a>
<a id="2503" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2510" href="Bitcoin.Script.Base.html#2510" class="Bound">n≤m</a> <a id="2514" class="Symbol">(</a><a id="2515" href="Bitcoin.Script.Base.html#2515" class="Bound">s</a> <a id="2517" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="2520" href="Bitcoin.Script.Base.html#2520" class="Bound">s₁</a><a id="2522" class="Symbol">)</a>               <a id="2538" class="Symbol">=</a> <a id="2540" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2547" href="Bitcoin.Script.Base.html#2510" class="Bound">n≤m</a> <a id="2551" href="Bitcoin.Script.Base.html#2515" class="Bound">s</a> <a id="2553" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="2556" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2563" href="Bitcoin.Script.Base.html#2510" class="Bound">n≤m</a> <a id="2567" href="Bitcoin.Script.Base.html#2520" class="Bound">s₁</a>
<a id="2570" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2577" href="Bitcoin.Script.Base.html#2577" class="Bound">n≤m</a> <a id="2581" class="Symbol">(</a><a id="2582" href="Bitcoin.Script.Base.html#2582" class="Bound">s</a> <a id="2584" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">`&lt;</a> <a id="2587" href="Bitcoin.Script.Base.html#2587" class="Bound">s₁</a><a id="2589" class="Symbol">)</a>               <a id="2605" class="Symbol">=</a> <a id="2607" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2614" href="Bitcoin.Script.Base.html#2577" class="Bound">n≤m</a> <a id="2618" href="Bitcoin.Script.Base.html#2582" class="Bound">s</a> <a id="2620" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">`&lt;</a> <a id="2623" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2630" href="Bitcoin.Script.Base.html#2577" class="Bound">n≤m</a> <a id="2634" href="Bitcoin.Script.Base.html#2587" class="Bound">s₁</a>
<a id="2637" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2644" href="Bitcoin.Script.Base.html#2644" class="Bound">n≤m</a> <a id="2648" class="Symbol">(</a><a id="2649" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if</a> <a id="2653" href="Bitcoin.Script.Base.html#2653" class="Bound">s</a> <a id="2655" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">then</a> <a id="2660" href="Bitcoin.Script.Base.html#2660" class="Bound">s₁</a> <a id="2663" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">else</a> <a id="2668" href="Bitcoin.Script.Base.html#2668" class="Bound">s₂</a><a id="2670" class="Symbol">)</a> <a id="2672" class="Symbol">=</a> <a id="2674" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">`if</a> <a id="2678" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2685" href="Bitcoin.Script.Base.html#2644" class="Bound">n≤m</a> <a id="2689" href="Bitcoin.Script.Base.html#2653" class="Bound">s</a> <a id="2691" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">then</a> <a id="2696" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2703" href="Bitcoin.Script.Base.html#2644" class="Bound">n≤m</a> <a id="2707" href="Bitcoin.Script.Base.html#2660" class="Bound">s₁</a> <a id="2710" href="Bitcoin.Script.Base.html#976" class="InductiveConstructor Operator">else</a> <a id="2715" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2722" href="Bitcoin.Script.Base.html#2644" class="Bound">n≤m</a> <a id="2726" href="Bitcoin.Script.Base.html#2668" class="Bound">s₂</a>
<a id="2729" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2736" href="Bitcoin.Script.Base.html#2736" class="Bound">n≤m</a> <a id="2740" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a> <a id="2742" href="Bitcoin.Script.Base.html#2742" class="Bound">s</a> <a id="2744" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a>                   <a id="2764" class="Symbol">=</a> <a id="2766" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a> <a id="2768" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2775" href="Bitcoin.Script.Base.html#2736" class="Bound">n≤m</a> <a id="2779" href="Bitcoin.Script.Base.html#2742" class="Bound">s</a> <a id="2781" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a>
<a id="2783" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2790" href="Bitcoin.Script.Base.html#2790" class="Bound">n≤m</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="2800" href="Bitcoin.Script.Base.html#2800" class="Bound">s</a><a id="2801" class="Symbol">)</a>                <a id="2818" class="Symbol">=</a> <a id="2820" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="2825" class="Symbol">(</a><a id="2826" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2833" href="Bitcoin.Script.Base.html#2790" class="Bound">n≤m</a> <a id="2837" href="Bitcoin.Script.Base.html#2800" class="Bound">s</a><a id="2838" class="Symbol">)</a>
<a id="2840" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2847" href="Bitcoin.Script.Base.html#2847" class="Bound">n≤m</a> <a id="2851" class="Symbol">(</a><a id="2852" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2859" href="Bitcoin.Script.Base.html#2859" class="Bound">x</a> <a id="2861" href="Bitcoin.Script.Base.html#2861" class="Bound">x₁</a><a id="2863" class="Symbol">)</a>           <a id="2875" class="Symbol">=</a> <a id="2877" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2884" href="Bitcoin.Script.Base.html#2859" class="Bound">x</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2891" class="Symbol">(</a><a id="2892" href="Function.Base.html#1563" class="Function">flip</a> <a id="2897" href="Data.Fin.Base.html#3126" class="Function">F.inject≤</a> <a id="2907" href="Bitcoin.Script.Base.html#2847" class="Bound">n≤m</a><a id="2910" class="Symbol">)</a> <a id="2912" href="Bitcoin.Script.Base.html#2861" class="Bound">x₁</a><a id="2914" class="Symbol">)</a>
<a id="2916" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2923" href="Bitcoin.Script.Base.html#2923" class="Bound">n≤m</a> <a id="2927" class="Symbol">(</a><a id="2928" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">absAfter</a> <a id="2937" href="Bitcoin.Script.Base.html#2937" class="Bound">x</a> <a id="2939" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">⇒</a> <a id="2941" href="Bitcoin.Script.Base.html#2941" class="Bound">s</a><a id="2942" class="Symbol">)</a>        <a id="2951" class="Symbol">=</a> <a id="2953" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">absAfter</a> <a id="2962" href="Bitcoin.Script.Base.html#2937" class="Bound">x</a> <a id="2964" href="Bitcoin.Script.Base.html#1226" class="InductiveConstructor Operator">⇒</a> <a id="2966" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2973" href="Bitcoin.Script.Base.html#2923" class="Bound">n≤m</a> <a id="2977" href="Bitcoin.Script.Base.html#2941" class="Bound">s</a>
<a id="2979" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="2986" href="Bitcoin.Script.Base.html#2986" class="Bound">n≤m</a> <a id="2990" class="Symbol">(</a><a id="2991" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">relAfter</a> <a id="3000" href="Bitcoin.Script.Base.html#3000" class="Bound">x</a> <a id="3002" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">⇒</a> <a id="3004" href="Bitcoin.Script.Base.html#3004" class="Bound">s</a><a id="3005" class="Symbol">)</a>        <a id="3014" class="Symbol">=</a> <a id="3016" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">relAfter</a> <a id="3025" href="Bitcoin.Script.Base.html#3000" class="Bound">x</a> <a id="3027" href="Bitcoin.Script.Base.html#1238" class="InductiveConstructor Operator">⇒</a> <a id="3029" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="3036" href="Bitcoin.Script.Base.html#2986" class="Bound">n≤m</a> <a id="3040" href="Bitcoin.Script.Base.html#3004" class="Bound">s</a>

<a id="⋁"></a><a id="3043" href="Bitcoin.Script.Base.html#3043" class="Function">⋁</a> <a id="3045" class="Symbol">:</a> <a id="3047" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3052" class="Symbol">(</a><a id="3053" href="Data.Product.html#1815" class="Function">∃[</a> <a id="3056" href="Bitcoin.Script.Base.html#3056" class="Bound">ctx</a> <a id="3060" href="Data.Product.html#1815" class="Function">]</a> <a id="3062" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="3069" href="Bitcoin.Script.Base.html#3056" class="Bound">ctx</a> <a id="3073" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a><a id="3078" class="Symbol">)</a> <a id="3080" class="Symbol">→</a> <a id="3082" href="Data.Product.html#1815" class="Function">∃[</a> <a id="3085" href="Bitcoin.Script.Base.html#3085" class="Bound">ctx′</a> <a id="3090" href="Data.Product.html#1815" class="Function">]</a> <a id="3092" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="3099" href="Bitcoin.Script.Base.html#3085" class="Bound">ctx′</a> <a id="3104" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="3110" href="Bitcoin.Script.Base.html#3043" class="Function">⋁</a> <a id="3112" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>    <a id="3118" class="Symbol">=</a> <a id="3120" class="Number">0</a> <a id="3122" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3124" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a>
<a id="3130" href="Bitcoin.Script.Base.html#3043" class="Function">⋁</a> <a id="3132" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3134" href="Bitcoin.Script.Base.html#3134" class="Bound">s</a> <a id="3136" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="3138" class="Symbol">=</a> <a id="3140" href="Bitcoin.Script.Base.html#3134" class="Bound">s</a>
<a id="3142" href="Bitcoin.Script.Base.html#3043" class="CatchallClause Function">⋁</a><a id="3143" class="CatchallClause"> </a><a id="3144" class="CatchallClause Symbol">((</a><a id="3146" href="Bitcoin.Script.Base.html#3146" class="CatchallClause Bound">n</a><a id="3147" class="CatchallClause"> </a><a id="3148" href="Agda.Builtin.Sigma.html#218" class="CatchallClause InductiveConstructor Operator">,</a><a id="3149" class="CatchallClause"> </a><a id="3150" href="Bitcoin.Script.Base.html#3150" class="CatchallClause Bound">x</a><a id="3151" class="CatchallClause Symbol">)</a><a id="3152" class="CatchallClause"> </a><a id="3153" href="Agda.Builtin.List.html#182" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3154" class="CatchallClause"> </a><a id="3155" href="Bitcoin.Script.Base.html#3155" class="CatchallClause Bound">xs</a><a id="3157" class="CatchallClause Symbol">)</a>
  <a id="3161" class="Keyword">with</a> <a id="3166" href="Bitcoin.Script.Base.html#3166" class="Bound">m</a> <a id="3168" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3170" href="Bitcoin.Script.Base.html#3170" class="Bound">y</a> ← <a id="3174" href="Bitcoin.Script.Base.html#3043" class="Function">⋁</a> <a id="3176" href="Bitcoin.Script.Base.html#3155" class="Bound">xs</a>
  <a id="3181" class="Keyword">with</a> <a id="3186" href="Bitcoin.Script.Base.html#3146" class="Bound">n</a> <a id="3188" href="Prelude.Ord.Dec.html#430" class="Function Operator">≤?</a> <a id="3191" href="Bitcoin.Script.Base.html#3166" class="Bound">m</a>
<a id="3193" class="Symbol">...</a> <a id="3197" class="Symbol">|</a> <a id="3199" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="3203" href="Bitcoin.Script.Base.html#3203" class="Bound">n≤m</a> <a id="3207" class="Symbol">=</a> <a id="3209" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3212" class="Symbol">(</a><a id="3213" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="3220" href="Bitcoin.Script.Base.html#3203" class="Bound">n≤m</a> <a id="3224" class="Bound">x</a> <a id="3226" href="Bitcoin.Script.Base.html#1693" class="Function Operator">`∨</a> <a id="3229" href="Bitcoin.Script.Base.html#3170" class="Bound">y</a><a id="3230" class="Symbol">)</a>
<a id="3232" class="Symbol">...</a> <a id="3236" class="Symbol">|</a> <a id="3238" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a>  <a id="3242" href="Bitcoin.Script.Base.html#3242" class="Bound">n≰m</a> <a id="3246" class="Symbol">=</a> <a id="3248" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3251" class="Symbol">(</a><a id="3252" class="Bound">x</a> <a id="3254" href="Bitcoin.Script.Base.html#1693" class="Function Operator">`∨</a> <a id="3257" href="Bitcoin.Script.Base.html#2216" class="Function">mapFin</a> <a id="3264" class="Symbol">(</a><a id="3265" href="Data.Nat.Properties.html#8161" class="Function">Nat.≰⇒≥</a> <a id="3273" href="Bitcoin.Script.Base.html#3242" class="Bound">n≰m</a><a id="3276" class="Symbol">)</a> <a id="3278" href="Bitcoin.Script.Base.html#3170" class="Bound">y</a><a id="3279" class="Symbol">)</a>

<a id="⋀"></a><a id="3282" href="Bitcoin.Script.Base.html#3282" class="Function">⋀</a> <a id="3284" class="Symbol">:</a> <a id="3286" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="3299" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="3303" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a><a id="3308" class="Symbol">)</a> <a id="3310" class="Symbol">→</a> <a id="3312" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="3319" href="Bitcoin.Script.Base.html#532" class="Generalizable">ctx</a> <a id="3323" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
<a id="3329" class="Comment">-- ⋀ = foldr _`∧_ `true</a>
<a id="3353" href="Bitcoin.Script.Base.html#3282" class="Function">⋀</a> <a id="3355" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="3364" class="Symbol">=</a> <a id="3366" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a>
<a id="3372" href="Bitcoin.Script.Base.html#3282" class="Function">⋀</a> <a id="3374" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3376" href="Bitcoin.Script.Base.html#3376" class="Bound">s</a> <a id="3378" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>    <a id="3383" class="Symbol">=</a> <a id="3385" href="Bitcoin.Script.Base.html#3376" class="Bound">s</a>
<a id="3387" href="Bitcoin.Script.Base.html#3282" class="CatchallClause Function">⋀</a><a id="3388" class="CatchallClause"> </a><a id="3389" class="CatchallClause Symbol">(</a><a id="3390" href="Bitcoin.Script.Base.html#3390" class="CatchallClause Bound">s</a><a id="3391" class="CatchallClause"> </a><a id="3392" href="Agda.Builtin.List.html#182" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3393" class="CatchallClause"> </a><a id="3394" href="Bitcoin.Script.Base.html#3394" class="CatchallClause Bound">ss</a><a id="3396" class="CatchallClause Symbol">)</a> <a id="3398" class="Symbol">=</a> <a id="3400" href="Bitcoin.Script.Base.html#3390" class="Bound">s</a> <a id="3402" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="3405" href="Bitcoin.Script.Base.html#3282" class="Function">⋀</a> <a id="3407" href="Bitcoin.Script.Base.html#3394" class="Bound">ss</a>
</pre></body></html>