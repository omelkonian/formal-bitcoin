<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.DummyHash.Tx</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">---------------------------------</a>
<a id="35" class="Comment">-- Dummy-hashing Tx datatypes.</a>
<a id="66" class="Comment">---------------------------------</a>
<a id="100" class="Keyword">module</a> <a id="107" href="Bitcoin.DummyHash.Tx.html" class="Module">Bitcoin.DummyHash.Tx</a> <a id="128" class="Keyword">where</a>

<a id="135" class="Keyword">open</a> <a id="140" class="Keyword">import</a> <a id="147" href="Prelude.Init.html" class="Module">Prelude.Init</a>

<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a> <a id="188" class="Keyword">using</a> <a id="194" class="Symbol">(</a><a id="195" href="Bitcoin.Crypto.html#321" class="Record">KeyPair</a><a id="202" class="Symbol">;</a> <a id="204" href="Bitcoin.Crypto.html#365" class="Field">sec</a><a id="207" class="Symbol">)</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Bitcoin.DummyHash.Base.html" class="Module">Bitcoin.DummyHash.Base</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Bitcoin.Script.Base.html" class="Module">Bitcoin.Script.Base</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Bitcoin.Tx.Base.html" class="Module">Bitcoin.Tx.Base</a>

<a id="txi♯"></a><a id="305" href="Bitcoin.DummyHash.Tx.html#305" class="Function">txi♯</a> <a id="310" class="Symbol">:</a> <a id="312" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="325" href="Bitcoin.Tx.Base.html#343" class="Record">TxInput</a>
<a id="333" href="Bitcoin.DummyHash.Tx.html#305" class="Function">txi♯</a> <a id="338" class="Symbol">(</a><a id="339" href="Bitcoin.DummyHash.Tx.html#339" class="Bound">tx♯</a> <a id="343" href="Bitcoin.Tx.Base.html#377" class="InductiveConstructor Operator">at</a> <a id="346" href="Bitcoin.DummyHash.Tx.html#346" class="Bound">i</a><a id="347" class="Symbol">)</a> <a id="349" class="Symbol">=</a> <a id="351" href="Bitcoin.DummyHash.Base.html#503" class="Function">merge♯</a> <a id="358" class="Symbol">(</a><a id="359" href="Bitcoin.DummyHash.Tx.html#339" class="Bound">tx♯</a> <a id="363" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="365" href="Bitcoin.DummyHash.Base.html#560" class="Function">nat♯</a> <a id="370" href="Bitcoin.DummyHash.Tx.html#346" class="Bound">i</a> <a id="372" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="374" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="376" class="Symbol">)</a>

<a id="script♯"></a><a id="379" href="Bitcoin.DummyHash.Tx.html#379" class="Function">script♯</a> <a id="387" class="Symbol">:</a> <a id="389" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="402" href="Bitcoin.Script.Base.html#2263" class="Function">∃BitcoinScript</a>
<a id="417" href="Bitcoin.DummyHash.Tx.html#379" class="Function">script♯</a> <a id="425" class="Symbol">(_</a> <a id="428" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="430" class="Symbol">(</a><a id="431" href="Bitcoin.Script.Base.html#2150" class="InductiveConstructor Operator">ƛ</a> <a id="433" class="Symbol">_))</a> <a id="437" class="Symbol">=</a> <a id="439" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="441" class="Number">666</a>

<a id="txo♯"></a><a id="446" href="Bitcoin.DummyHash.Tx.html#446" class="Function">txo♯</a> <a id="451" class="Symbol">:</a> <a id="453" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="466" href="Bitcoin.Tx.Base.html#793" class="Function">∃TxOutput</a>
<a id="476" href="Bitcoin.DummyHash.Tx.html#446" class="Function">txo♯</a> <a id="481" class="Symbol">(_</a> <a id="484" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="486" href="Bitcoin.DummyHash.Tx.html#486" class="Bound">txo</a><a id="489" class="Symbol">)</a> <a id="491" class="Symbol">=</a> <a id="493" href="Bitcoin.DummyHash.Base.html#503" class="Function">merge♯</a> <a id="500" class="Symbol">(</a><a id="501" href="Bitcoin.DummyHash.Base.html#560" class="Function">nat♯</a> <a id="506" class="Symbol">(</a><a id="507" href="Bitcoin.Tx.Base.html#658" class="Field">value</a> <a id="513" href="Bitcoin.DummyHash.Tx.html#486" class="Bound">txo</a><a id="516" class="Symbol">)</a> <a id="518" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="520" href="Bitcoin.DummyHash.Tx.html#379" class="Function">script♯</a> <a id="528" class="Symbol">(_</a> <a id="531" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="533" class="Symbol">(</a><a id="534" href="Bitcoin.Tx.Base.html#680" class="Field">validator</a> <a id="544" href="Bitcoin.DummyHash.Tx.html#486" class="Bound">txo</a><a id="547" class="Symbol">))</a> <a id="550" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="552" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="554" class="Symbol">)</a>

<a id="tx♯"></a><a id="557" href="Bitcoin.DummyHash.Tx.html#557" class="Function">tx♯</a> <a id="561" class="Symbol">:</a> <a id="563" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="576" href="Bitcoin.Tx.Base.html#1255" class="Function">∃Tx</a>
<a id="580" href="Bitcoin.DummyHash.Tx.html#557" class="Function">tx♯</a> <a id="584" class="Symbol">(_</a> <a id="587" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="589" class="Symbol">_</a> <a id="591" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="593" href="Bitcoin.DummyHash.Tx.html#593" class="Bound">tx</a><a id="595" class="Symbol">)</a> <a id="597" class="Symbol">=</a> <a id="599" href="Bitcoin.DummyHash.Base.html#503" class="Function">merge♯</a> <a id="606" class="Symbol">(</a> <a id="608" href="Bitcoin.DummyHash.Base.html#666" class="Function">vec♯</a> <a id="613" href="Bitcoin.DummyHash.Tx.html#305" class="Function">txi♯</a> <a id="618" class="Symbol">(</a><a id="619" href="Bitcoin.Tx.Base.html#940" class="Field">inputs</a> <a id="626" href="Bitcoin.DummyHash.Tx.html#593" class="Bound">tx</a><a id="628" class="Symbol">)</a>
                          <a id="656" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="658" href="Bitcoin.DummyHash.Base.html#666" class="Function">vec♯</a> <a id="663" href="Bitcoin.DummyHash.Base.html#560" class="Function">nat♯</a> <a id="668" class="Symbol">(</a><a id="669" href="Bitcoin.Tx.Base.html#1036" class="Field">relLock</a> <a id="677" href="Bitcoin.DummyHash.Tx.html#593" class="Bound">tx</a><a id="679" class="Symbol">)</a>
                          <a id="707" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="709" href="Bitcoin.DummyHash.Base.html#666" class="Function">vec♯</a> <a id="714" href="Bitcoin.DummyHash.Tx.html#446" class="Function">txo♯</a> <a id="719" class="Symbol">(</a><a id="720" href="Bitcoin.Tx.Base.html#1090" class="Field">outputs</a> <a id="728" href="Bitcoin.DummyHash.Tx.html#593" class="Bound">tx</a><a id="730" class="Symbol">)</a>
                          <a id="758" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="760" href="Bitcoin.DummyHash.Base.html#560" class="Function">nat♯</a> <a id="765" class="Symbol">(</a><a id="766" href="Bitcoin.Tx.Base.html#1132" class="Field">absLock</a> <a id="774" href="Bitcoin.DummyHash.Tx.html#593" class="Bound">tx</a><a id="776" class="Symbol">)</a>
                          <a id="804" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="806" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="809" class="Symbol">)</a>

<a id="HASH"></a><a id="812" href="Bitcoin.DummyHash.Tx.html#812" class="Function">HASH</a> <a id="817" class="Symbol">:</a> <a id="819" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="832" class="Symbol">(</a><a id="833" href="Bitcoin.Tx.Base.html#903" class="Record">Tx</a> <a id="836" href="Bitcoin.Tx.Base.html#1294" class="Generalizable">i</a> <a id="838" href="Bitcoin.Tx.Base.html#1299" class="Generalizable">o</a><a id="839" class="Symbol">)</a>
<a id="841" href="Bitcoin.DummyHash.Tx.html#812" class="Function">HASH</a> <a id="846" href="Bitcoin.DummyHash.Tx.html#846" class="Bound">tx</a> <a id="849" class="Symbol">=</a> <a id="851" href="Bitcoin.DummyHash.Tx.html#557" class="Function">tx♯</a> <a id="855" class="Symbol">(_</a> <a id="858" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="860" class="Symbol">_</a> <a id="862" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="864" href="Bitcoin.DummyHash.Tx.html#846" class="Bound">tx</a><a id="866" class="Symbol">)</a>

<a id="SIG"></a><a id="869" href="Bitcoin.DummyHash.Tx.html#869" class="Function">SIG</a> <a id="873" class="Symbol">:</a> <a id="875" href="Bitcoin.Crypto.html#321" class="Record">KeyPair</a> <a id="883" class="Symbol">→</a> <a id="885" href="Bitcoin.DummyHash.Base.html#454" class="Function">HashFunction</a> <a id="898" class="Symbol">(</a><a id="899" href="Bitcoin.Tx.Base.html#903" class="Record">Tx</a> <a id="902" href="Bitcoin.Tx.Base.html#1294" class="Generalizable">i</a> <a id="904" href="Bitcoin.Tx.Base.html#1299" class="Generalizable">o</a><a id="905" class="Symbol">)</a>
<a id="907" href="Bitcoin.DummyHash.Tx.html#869" class="Function">SIG</a> <a id="911" href="Bitcoin.DummyHash.Tx.html#911" class="Bound">k</a> <a id="913" href="Bitcoin.DummyHash.Tx.html#913" class="Bound">tx</a> <a id="916" class="Symbol">=</a> <a id="918" href="Bitcoin.DummyHash.Base.html#503" class="Function">merge♯</a> <a id="925" class="Symbol">(</a><a id="926" href="Bitcoin.Crypto.html#365" class="Field">sec</a> <a id="930" href="Bitcoin.DummyHash.Tx.html#911" class="Bound">k</a> <a id="932" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="934" href="Bitcoin.DummyHash.Tx.html#812" class="Function">HASH</a> <a id="939" href="Bitcoin.DummyHash.Tx.html#913" class="Bound">tx</a> <a id="942" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="944" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="946" class="Symbol">)</a>
</pre></body></html>