<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.DummyHash.Tx</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">---------------------------------</a>
<a id="35" class="Comment">-- Dummy-hashing Tx datatypes.</a>
<a id="66" class="Comment">---------------------------------</a>
<a id="100" class="Keyword">module</a> <a id="107" href="Bitcoin.DummyHash.Tx.html" class="Module">Bitcoin.DummyHash.Tx</a> <a id="128" class="Keyword">where</a>

<a id="135" class="Keyword">open</a> <a id="140" class="Keyword">import</a> <a id="147" href="Data.Product.html" class="Module">Data.Product</a> <a id="160" class="Keyword">using</a> <a id="166" class="Symbol">(</a><a id="167" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="170" class="Symbol">)</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="197" class="Keyword">using</a> <a id="203" class="Symbol">(</a><a id="204" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="206" class="Symbol">)</a>
<a id="208" class="Keyword">open</a> <a id="213" class="Keyword">import</a> <a id="220" href="Data.List.html" class="Module">Data.List</a>    <a id="233" class="Keyword">using</a> <a id="239" class="Symbol">(</a><a id="240" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="242" class="Symbol">;</a> <a id="244" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="247" class="Symbol">)</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a> <a id="277" class="Keyword">using</a> <a id="283" class="Symbol">(</a><a id="284" href="Bitcoin.Crypto.html#410" class="Record">KeyPair</a><a id="291" class="Symbol">;</a> <a id="293" href="Bitcoin.Crypto.html#454" class="Field">sec</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Bitcoin.DummyHash.Base.html" class="Module">Bitcoin.DummyHash.Base</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Bitcoin.Script.Base.html" class="Module">Bitcoin.Script.Base</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Bitcoin.Tx.Base.html" class="Module">Bitcoin.Tx.Base</a>

<a id="txi♯"></a><a id="394" href="Bitcoin.DummyHash.Tx.html#394" class="Function">txi♯</a> <a id="399" class="Symbol">:</a> <a id="401" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="414" href="Bitcoin.Tx.Base.html#581" class="Record">TxInput</a>
<a id="422" href="Bitcoin.DummyHash.Tx.html#394" class="Function">txi♯</a> <a id="427" class="Symbol">(</a><a id="428" href="Bitcoin.DummyHash.Tx.html#428" class="Bound">tx♯</a> <a id="432" href="Bitcoin.Tx.Base.html#615" class="InductiveConstructor Operator">at</a> <a id="435" href="Bitcoin.DummyHash.Tx.html#435" class="Bound">i</a><a id="436" class="Symbol">)</a> <a id="438" class="Symbol">=</a> <a id="440" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="447" class="Symbol">(</a><a id="448" href="Bitcoin.DummyHash.Tx.html#428" class="Bound">tx♯</a> <a id="452" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="454" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="459" href="Bitcoin.DummyHash.Tx.html#435" class="Bound">i</a> <a id="461" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="463" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="465" class="Symbol">)</a>

<a id="script♯"></a><a id="468" href="Bitcoin.DummyHash.Tx.html#468" class="Function">script♯</a> <a id="476" class="Symbol">:</a> <a id="478" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="491" href="Bitcoin.Script.Base.html#2733" class="Function">∃BitcoinScript</a>
<a id="506" href="Bitcoin.DummyHash.Tx.html#468" class="Function">script♯</a> <a id="514" class="Symbol">(_</a> <a id="517" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="519" class="Symbol">(</a><a id="520" href="Bitcoin.Script.Base.html#2620" class="InductiveConstructor Operator">ƛ</a> <a id="522" class="Symbol">_))</a> <a id="526" class="Symbol">=</a> <a id="528" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="530" class="Number">666</a>

<a id="txo♯"></a><a id="535" href="Bitcoin.DummyHash.Tx.html#535" class="Function">txo♯</a> <a id="540" class="Symbol">:</a> <a id="542" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="555" href="Bitcoin.Tx.Base.html#1031" class="Function">∃TxOutput</a>
<a id="565" href="Bitcoin.DummyHash.Tx.html#535" class="Function">txo♯</a> <a id="570" class="Symbol">(_</a> <a id="573" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="575" href="Bitcoin.DummyHash.Tx.html#575" class="Bound">txo</a><a id="578" class="Symbol">)</a> <a id="580" class="Symbol">=</a> <a id="582" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="589" class="Symbol">(</a><a id="590" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="595" class="Symbol">(</a><a id="596" href="Bitcoin.Tx.Base.html#896" class="Field">value</a> <a id="602" href="Bitcoin.DummyHash.Tx.html#575" class="Bound">txo</a><a id="605" class="Symbol">)</a> <a id="607" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="609" href="Bitcoin.DummyHash.Tx.html#468" class="Function">script♯</a> <a id="617" class="Symbol">(_</a> <a id="620" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="622" class="Symbol">(</a><a id="623" href="Bitcoin.Tx.Base.html#918" class="Field">validator</a> <a id="633" href="Bitcoin.DummyHash.Tx.html#575" class="Bound">txo</a><a id="636" class="Symbol">))</a> <a id="639" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="641" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="643" class="Symbol">)</a>

<a id="tx♯"></a><a id="646" href="Bitcoin.DummyHash.Tx.html#646" class="Function">tx♯</a> <a id="650" class="Symbol">:</a> <a id="652" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="665" href="Bitcoin.Tx.Base.html#1493" class="Function">∃Tx</a>
<a id="669" href="Bitcoin.DummyHash.Tx.html#646" class="Function">tx♯</a> <a id="673" class="Symbol">(_</a> <a id="676" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="678" class="Symbol">_</a> <a id="680" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="682" href="Bitcoin.DummyHash.Tx.html#682" class="Bound">tx</a><a id="684" class="Symbol">)</a> <a id="686" class="Symbol">=</a> <a id="688" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="695" class="Symbol">(</a> <a id="697" href="Bitcoin.DummyHash.Base.html#929" class="Function">vec♯</a> <a id="702" href="Bitcoin.DummyHash.Tx.html#394" class="Function">txi♯</a> <a id="707" class="Symbol">(</a><a id="708" href="Bitcoin.Tx.Base.html#1178" class="Field">inputs</a> <a id="715" href="Bitcoin.DummyHash.Tx.html#682" class="Bound">tx</a><a id="717" class="Symbol">)</a>
                          <a id="745" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="747" href="Bitcoin.DummyHash.Base.html#929" class="Function">vec♯</a> <a id="752" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="757" class="Symbol">(</a><a id="758" href="Bitcoin.Tx.Base.html#1274" class="Field">relLock</a> <a id="766" href="Bitcoin.DummyHash.Tx.html#682" class="Bound">tx</a><a id="768" class="Symbol">)</a>
                          <a id="796" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="798" href="Bitcoin.DummyHash.Base.html#929" class="Function">vec♯</a> <a id="803" href="Bitcoin.DummyHash.Tx.html#535" class="Function">txo♯</a> <a id="808" class="Symbol">(</a><a id="809" href="Bitcoin.Tx.Base.html#1328" class="Field">outputs</a> <a id="817" href="Bitcoin.DummyHash.Tx.html#682" class="Bound">tx</a><a id="819" class="Symbol">)</a>
                          <a id="847" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="849" href="Bitcoin.DummyHash.Base.html#823" class="Function">nat♯</a> <a id="854" class="Symbol">(</a><a id="855" href="Bitcoin.Tx.Base.html#1370" class="Field">absLock</a> <a id="863" href="Bitcoin.DummyHash.Tx.html#682" class="Bound">tx</a><a id="865" class="Symbol">)</a>
                          <a id="893" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="895" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="898" class="Symbol">)</a>

<a id="HASH"></a><a id="901" href="Bitcoin.DummyHash.Tx.html#901" class="Function">HASH</a> <a id="906" class="Symbol">:</a> <a id="908" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="921" class="Symbol">(</a><a id="922" href="Bitcoin.Tx.Base.html#1141" class="Record">Tx</a> <a id="925" href="Bitcoin.Tx.Base.html#1532" class="Generalizable">i</a> <a id="927" href="Bitcoin.Tx.Base.html#1537" class="Generalizable">o</a><a id="928" class="Symbol">)</a>
<a id="930" href="Bitcoin.DummyHash.Tx.html#901" class="Function">HASH</a> <a id="935" href="Bitcoin.DummyHash.Tx.html#935" class="Bound">tx</a> <a id="938" class="Symbol">=</a> <a id="940" href="Bitcoin.DummyHash.Tx.html#646" class="Function">tx♯</a> <a id="944" class="Symbol">(_</a> <a id="947" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="949" class="Symbol">_</a> <a id="951" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="953" href="Bitcoin.DummyHash.Tx.html#935" class="Bound">tx</a><a id="955" class="Symbol">)</a>

<a id="SIG"></a><a id="958" href="Bitcoin.DummyHash.Tx.html#958" class="Function">SIG</a> <a id="962" class="Symbol">:</a> <a id="964" href="Bitcoin.Crypto.html#410" class="Record">KeyPair</a> <a id="972" class="Symbol">→</a> <a id="974" href="Bitcoin.DummyHash.Base.html#725" class="Function">HashFunction</a> <a id="987" class="Symbol">(</a><a id="988" href="Bitcoin.Tx.Base.html#1141" class="Record">Tx</a> <a id="991" href="Bitcoin.Tx.Base.html#1532" class="Generalizable">i</a> <a id="993" href="Bitcoin.Tx.Base.html#1537" class="Generalizable">o</a><a id="994" class="Symbol">)</a>
<a id="996" href="Bitcoin.DummyHash.Tx.html#958" class="Function">SIG</a> <a id="1000" href="Bitcoin.DummyHash.Tx.html#1000" class="Bound">k</a> <a id="1002" href="Bitcoin.DummyHash.Tx.html#1002" class="Bound">tx</a> <a id="1005" class="Symbol">=</a> <a id="1007" href="Bitcoin.DummyHash.Base.html#774" class="Function">merge♯</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Bitcoin.Crypto.html#454" class="Field">sec</a> <a id="1019" href="Bitcoin.DummyHash.Tx.html#1000" class="Bound">k</a> <a id="1021" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1023" href="Bitcoin.DummyHash.Tx.html#901" class="Function">HASH</a> <a id="1028" href="Bitcoin.DummyHash.Tx.html#1002" class="Bound">tx</a> <a id="1031" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1033" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1035" class="Symbol">)</a>
</pre></body></html>