<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Decidable.Examples</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master/'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Decidable.Examples.html" class="Module">Prelude.Decidable.Examples</a> <a id="35" class="Keyword">where</a>

<a id="42" class="Keyword">open</a> <a id="47" class="Keyword">import</a> <a id="54" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="66" class="Symbol">;</a> <a id="68" class="Keyword">open</a> <a id="73" href="Prelude.Init.html#397" class="Module">SetAsType</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>

<a id="135" class="Keyword">open</a> <a id="140" class="Keyword">import</a> <a id="147" href="Prelude.Decidable.Base.html" class="Module">Prelude.Decidable.Base</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Prelude.Decidable.Instances.html" class="Module">Prelude.Decidable.Instances</a>

<a id="211" class="Keyword">private</a>
  <a id="221" href="Prelude.Decidable.Examples.html#221" class="Function">_</a> <a id="223" class="Symbol">=</a> <a id="225" class="Symbol">(</a><a id="226" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="228" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="230" class="Symbol">((</a><a id="232" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="239" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="243" class="Symbol">)</a> <a id="245" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="247" class="Symbol">(</a><a id="248" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="253" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="255" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="259" class="Symbol">)))</a>
    <a id="267" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="269" class="Symbol">(</a><a id="270" class="Number">8</a> <a id="272" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="274" class="Number">18</a> <a id="277" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="279" class="Number">10</a><a id="281" class="Symbol">)</a>
    <a id="287" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="289" href="Prelude.Decidable.Base.html#158" class="Function">auto</a>

  <a id="297" href="Prelude.Decidable.Examples.html#297" class="Function">_</a> <a id="299" class="Symbol">=</a> <a id="301" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="303" class="Symbol">(</a> <a id="305" class="Symbol">(</a><a id="306" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="308" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="310" class="Symbol">((</a><a id="312" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="317" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="319" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="323" class="Symbol">)</a> <a id="325" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="327" class="Symbol">(</a><a id="328" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="333" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="335" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="339" class="Symbol">)))</a>
        <a id="351" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="353" class="Symbol">(</a><a id="354" class="Number">8</a> <a id="356" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="358" class="Number">17</a> <a id="361" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="363" class="Number">10</a><a id="365" class="Symbol">)</a> <a id="367" class="Symbol">)</a>
    <a id="373" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="375" href="Prelude.Decidable.Base.html#158" class="Function">auto</a>

  <a id="383" href="Prelude.Decidable.Examples.html#383" class="Function">_</a> <a id="385" class="Symbol">:</a> <a id="387" class="Symbol">∀</a> <a id="389" class="Symbol">{</a><a id="390" href="Prelude.Decidable.Examples.html#390" class="Bound">A</a> <a id="392" class="Symbol">:</a> <a id="394" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="399" href="Prelude.Init.html#238" class="Generalizable">ℓ</a><a id="400" class="Symbol">}</a>
    <a id="406" class="Symbol">→</a> <a id="408" class="Symbol">⦃</a> <a id="410" href="Prelude.DecEq.Core.html#114" class="Record">DecEq</a> <a id="416" href="Prelude.Decidable.Examples.html#390" class="Bound">A</a> <a id="418" class="Symbol">⦄</a>
    <a id="424" class="Symbol">→</a> <a id="426" class="Symbol">{</a><a id="427" href="Prelude.Decidable.Examples.html#427" class="Bound">m</a> <a id="429" class="Symbol">:</a> <a id="431" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="437" class="Symbol">(</a><a id="438" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="443" href="Prelude.Decidable.Examples.html#390" class="Bound">A</a><a id="444" class="Symbol">)}</a> <a id="447" class="Symbol">{</a><a id="448" href="Prelude.Decidable.Examples.html#448" class="Bound">x₁</a> <a id="451" href="Prelude.Decidable.Examples.html#451" class="Bound">x₂</a> <a id="454" class="Symbol">:</a> <a id="456" href="Prelude.Decidable.Examples.html#390" class="Bound">A</a><a id="457" class="Symbol">}</a>
    <a id="463" class="Symbol">→</a> <a id="465" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="469" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="471" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a> <a id="481" class="Symbol">(λ</a> <a id="484" href="Prelude.Decidable.Examples.html#484" class="Bound">xs</a> <a id="487" class="Symbol">→</a> <a id="489" class="Symbol">(</a><a id="490" href="Prelude.Decidable.Examples.html#484" class="Bound">xs</a> <a id="493" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="495" href="Prelude.Nary.html#223" class="Function Operator">⟦</a> <a id="497" href="Prelude.Decidable.Examples.html#448" class="Bound">x₁</a> <a id="500" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="502" href="Prelude.Decidable.Examples.html#451" class="Bound">x₂</a> <a id="505" href="Prelude.Nary.html#223" class="Function Operator">⟧</a><a id="506" class="Symbol">)</a> <a id="508" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="510" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a> <a id="514" class="Symbol">(</a><a id="515" href="Function.Base.html#636" class="Function">const</a> <a id="521" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="522" class="Symbol">)</a> <a id="524" href="Prelude.Decidable.Examples.html#484" class="Bound">xs</a><a id="526" class="Symbol">)</a> <a id="528" href="Prelude.Decidable.Examples.html#427" class="Bound">m</a>
  <a id="532" class="Symbol">_</a> <a id="534" class="Symbol">=</a> <a id="536" href="Prelude.Decidable.Base.html#143" class="Field">dec</a>

  <a id="543" class="Comment">-- ** Non-dependent records</a>
  <a id="573" class="Keyword">record</a> <a id="Valid"></a><a id="580" href="Prelude.Decidable.Examples.html#580" class="Record">Valid</a> <a id="586" class="Symbol">:</a> <a id="588" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="593" class="Keyword">where</a>
    <a id="603" class="Keyword">field</a>
      <a id="Valid.p₁"></a><a id="615" href="Prelude.Decidable.Examples.html#615" class="Field">p₁</a> <a id="618" class="Symbol">:</a> <a id="620" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="622" class="Symbol">(</a> <a id="624" class="Symbol">(</a><a id="625" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="627" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="629" class="Symbol">(</a><a id="630" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="635" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="637" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="641" class="Symbol">))</a>
             <a id="657" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="659" class="Symbol">(</a><a id="660" class="Number">8</a> <a id="662" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="664" class="Number">17</a> <a id="667" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="669" class="Number">10</a><a id="671" class="Symbol">)</a> <a id="673" class="Symbol">)</a>
      <a id="Valid.p₂"></a><a id="681" href="Prelude.Decidable.Examples.html#681" class="Field">p₂</a> <a id="684" class="Symbol">:</a> <a id="686" class="Symbol">(</a><a id="687" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="689" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="691" class="Symbol">(</a><a id="692" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="697" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="699" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="703" class="Symbol">))</a>
         <a id="715" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="717" class="Symbol">(</a><a id="718" class="Number">8</a> <a id="720" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="722" class="Number">18</a> <a id="725" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="727" class="Number">10</a><a id="729" class="Symbol">)</a>
  <a id="733" class="Keyword">open</a> <a id="738" href="Prelude.Decidable.Examples.html#580" class="Module">Valid</a>

  <a id="t"></a><a id="747" href="Prelude.Decidable.Examples.html#747" class="Function">t</a> <a id="749" class="Symbol">:</a> <a id="751" href="Prelude.Decidable.Examples.html#580" class="Record">Valid</a> <a id="757" href="Prelude.Decidable.Base.html#87" class="Record Operator">⁇</a>
  <a id="761" href="Prelude.Decidable.Examples.html#747" class="Function">t</a> <a id="763" class="Symbol">.</a><a id="764" href="Prelude.Decidable.Base.html#143" class="Field">dec</a>
    <a id="772" class="Keyword">with</a> <a id="777" href="Prelude.Decidable.Base.html#143" class="Field">dec</a>
  <a id="783" class="Symbol">...</a> <a id="787" class="Symbol">|</a> <a id="789" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="792" href="Prelude.Decidable.Examples.html#792" class="Bound">¬p₁</a> <a id="796" class="Symbol">=</a> <a id="798" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="802" class="Symbol">(</a><a id="803" href="Prelude.Decidable.Examples.html#792" class="Bound">¬p₁</a> <a id="807" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="809" href="Prelude.Decidable.Examples.html#615" class="Field">p₁</a><a id="811" class="Symbol">)</a>
  <a id="815" class="Symbol">...</a> <a id="819" class="Symbol">|</a> <a id="821" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="825" href="Prelude.Decidable.Examples.html#825" class="Bound">p₁</a>
    <a id="832" class="Keyword">with</a> <a id="837" href="Prelude.Decidable.Base.html#143" class="Field">dec</a>
  <a id="843" class="Symbol">...</a> <a id="847" class="Symbol">|</a> <a id="849" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="852" href="Prelude.Decidable.Examples.html#852" class="Bound">¬p₂</a> <a id="856" class="Symbol">=</a> <a id="858" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="862" class="Symbol">(</a><a id="863" href="Prelude.Decidable.Examples.html#852" class="Bound">¬p₂</a> <a id="867" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="869" href="Prelude.Decidable.Examples.html#681" class="Field">p₂</a><a id="871" class="Symbol">)</a>
  <a id="875" class="Symbol">...</a> <a id="879" class="Symbol">|</a> <a id="881" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="885" href="Prelude.Decidable.Examples.html#885" class="Bound">p₂</a> <a id="888" class="Symbol">=</a> <a id="890" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="894" class="Keyword">record</a> <a id="901" class="Symbol">{</a><a id="902" href="Prelude.Decidable.Examples.html#615" class="Field">p₁</a> <a id="905" class="Symbol">=</a> <a id="907" class="Bound">p₁</a><a id="909" class="Symbol">;</a> <a id="911" href="Prelude.Decidable.Examples.html#681" class="Field">p₂</a> <a id="914" class="Symbol">=</a> <a id="916" href="Prelude.Decidable.Examples.html#885" class="Bound">p₂</a><a id="918" class="Symbol">}</a>

<a id="921" class="Comment">{-
  -- ** Dependent records (simple)
  record Valid : Type where
    field
      p₁ : ⊤
      p₂ : ¬ ( (¬ ¬ (tt ≡ p₁))
             × (8 ≡ 17 ∸ 10) )
  open Valid

  t : Valid ⁇
  t .dec
    with dec
  ... | no ¬p₁ = no  (¬p₁ ∘ p₁)
  ... | yes p₁
    with dec
  ... | no ¬p₂ = no  {!!} -- (¬p₂ ∘ p₂) -- doesn&#39;t work because of dependency between p₁ and p₂
  ... | yes p₂ = yes record {p₁ = p₁; p₂ = p₂}
-}</a>

<a id="1329" class="Comment">{-
  -- ** Dependent records (advanced)
  record Valid ⦃ da : DecEq A ⦄ (m : Maybe (List A)) (x₁ x₂ : A) : Type where
    field
      p₁ : M.Any.Any (λ xs → ( (xs ≡ ⟦ x₁ , x₂ ⟧)
                            × (Any (const ⊤) xs)
                            ⊎ (_⊆_ (_≟_ ⦃ da ⦄) ⟦ x₁ , x₂ ⟧ xs)
                            )) m

      p₂ : proj₁ (M.Any.satisfied p₁) ≡ ⟦ x₁ , x₂ ⟧
  open Valid

  t : ∀ ⦃ DecEq A ⦄ {m : Maybe (List A)} {x₁ x₂} → (Valid m x₁ x₂) ⁇
  t .dec
    with dec
  ... | no ¬p₁ = no  (¬p₁ ∘ p₁)
  ... | yes p₁
    with dec
  ... | no ¬p₂ = no  {!!} -- (¬p₂ ∘ p₂) -- doesn&#39;t work because of dependency between p₁ and p₂
  ... | yes p₂ = yes record {p₁ = p₁; p₂ = p₂}
-}</a>
</pre></body></html>