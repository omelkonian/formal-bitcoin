<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Decidable.Examples</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master/'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Decidable.Examples.html" class="Module">Prelude.Decidable.Examples</a> <a id="35" class="Keyword">where</a>

<a id="42" class="Keyword">open</a> <a id="47" class="Keyword">import</a> <a id="54" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="67" class="Keyword">open</a> <a id="72" class="Keyword">import</a> <a id="79" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="93" class="Keyword">open</a> <a id="98" class="Keyword">import</a> <a id="105" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Prelude.Decidable.Base.html" class="Module">Prelude.Decidable.Base</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Prelude.Decidable.Instances.html" class="Module">Prelude.Decidable.Instances</a>

<a id="195" class="Keyword">private</a>
  <a id="205" href="Prelude.Decidable.Examples.html#205" class="Function">_</a> <a id="207" class="Symbol">=</a> <a id="209" class="Symbol">(</a><a id="210" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="212" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="214" class="Symbol">((</a><a id="216" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="221" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="223" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="227" class="Symbol">)</a> <a id="229" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="231" class="Symbol">(</a><a id="232" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="239" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="243" class="Symbol">)))</a>
    <a id="251" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="253" class="Symbol">(</a><a id="254" class="Number">8</a> <a id="256" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="258" class="Number">18</a> <a id="261" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="263" class="Number">10</a><a id="265" class="Symbol">)</a>
    <a id="271" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="273" href="Prelude.Decidable.Base.html#140" class="Function">auto</a>

  <a id="281" href="Prelude.Decidable.Examples.html#281" class="Function">_</a> <a id="283" class="Symbol">=</a> <a id="285" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="287" class="Symbol">(</a> <a id="289" class="Symbol">(</a><a id="290" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="292" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="294" class="Symbol">((</a><a id="296" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="301" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="303" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="307" class="Symbol">)</a> <a id="309" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="311" class="Symbol">(</a><a id="312" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="317" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="319" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="323" class="Symbol">)))</a>
        <a id="335" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="337" class="Symbol">(</a><a id="338" class="Number">8</a> <a id="340" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="342" class="Number">17</a> <a id="345" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="347" class="Number">10</a><a id="349" class="Symbol">)</a> <a id="351" class="Symbol">)</a>
    <a id="357" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="359" href="Prelude.Decidable.Base.html#140" class="Function">auto</a>

  <a id="367" href="Prelude.Decidable.Examples.html#367" class="Function">_</a> <a id="369" class="Symbol">:</a> <a id="371" class="Symbol">∀</a> <a id="373" class="Symbol">{</a><a id="374" href="Prelude.Decidable.Examples.html#374" class="Bound">A</a> <a id="376" class="Symbol">:</a> <a id="378" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="382" href="Prelude.Init.html#345" class="Generalizable">ℓ</a><a id="383" class="Symbol">}</a>
    <a id="389" class="Symbol">→</a> <a id="391" class="Symbol">⦃</a> <a id="393" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="399" href="Prelude.Decidable.Examples.html#374" class="Bound">A</a> <a id="401" class="Symbol">⦄</a>
    <a id="407" class="Symbol">→</a> <a id="409" class="Symbol">{</a><a id="410" href="Prelude.Decidable.Examples.html#410" class="Bound">m</a> <a id="412" class="Symbol">:</a> <a id="414" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="420" class="Symbol">(</a><a id="421" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="426" href="Prelude.Decidable.Examples.html#374" class="Bound">A</a><a id="427" class="Symbol">)}</a> <a id="430" class="Symbol">{</a><a id="431" href="Prelude.Decidable.Examples.html#431" class="Bound">x₁</a> <a id="434" href="Prelude.Decidable.Examples.html#434" class="Bound">x₂</a> <a id="437" class="Symbol">:</a> <a id="439" href="Prelude.Decidable.Examples.html#374" class="Bound">A</a><a id="440" class="Symbol">}</a>
    <a id="446" class="Symbol">→</a> <a id="448" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="452" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="454" href="Data.Maybe.Relation.Unary.Any.html#830" class="Datatype">M.Any.Any</a> <a id="464" class="Symbol">(λ</a> <a id="467" href="Prelude.Decidable.Examples.html#467" class="Bound">xs</a> <a id="470" class="Symbol">→</a> <a id="472" class="Symbol">(</a><a id="473" href="Prelude.Decidable.Examples.html#467" class="Bound">xs</a> <a id="476" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="478" href="Prelude.Nary.html#207" class="Function Operator">⟦</a> <a id="480" href="Prelude.Decidable.Examples.html#431" class="Bound">x₁</a> <a id="483" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="485" href="Prelude.Decidable.Examples.html#434" class="Bound">x₂</a> <a id="488" href="Prelude.Nary.html#207" class="Function Operator">⟧</a><a id="489" class="Symbol">)</a> <a id="491" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="493" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a> <a id="497" class="Symbol">(</a><a id="498" href="Function.Base.html#636" class="Function">const</a> <a id="504" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="505" class="Symbol">)</a> <a id="507" href="Prelude.Decidable.Examples.html#467" class="Bound">xs</a><a id="509" class="Symbol">)</a> <a id="511" href="Prelude.Decidable.Examples.html#410" class="Bound">m</a>
  <a id="515" class="Symbol">_</a> <a id="517" class="Symbol">=</a> <a id="519" href="Prelude.Decidable.Base.html#125" class="Field">dec</a>

  <a id="526" class="Comment">-- ** Non-dependent records</a>
  <a id="556" class="Keyword">record</a> <a id="Valid"></a><a id="563" href="Prelude.Decidable.Examples.html#563" class="Record">Valid</a> <a id="569" class="Symbol">:</a> <a id="571" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="575" class="Keyword">where</a>
    <a id="585" class="Keyword">field</a>
      <a id="Valid.p₁"></a><a id="597" href="Prelude.Decidable.Examples.html#597" class="Field">p₁</a> <a id="600" class="Symbol">:</a> <a id="602" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="604" class="Symbol">(</a> <a id="606" class="Symbol">(</a><a id="607" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="609" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="611" class="Symbol">(</a><a id="612" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="617" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="619" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="623" class="Symbol">))</a>
             <a id="639" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="641" class="Symbol">(</a><a id="642" class="Number">8</a> <a id="644" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="646" class="Number">17</a> <a id="649" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="651" class="Number">10</a><a id="653" class="Symbol">)</a> <a id="655" class="Symbol">)</a>
      <a id="Valid.p₂"></a><a id="663" href="Prelude.Decidable.Examples.html#663" class="Field">p₂</a> <a id="666" class="Symbol">:</a> <a id="668" class="Symbol">(</a><a id="669" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="671" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="673" class="Symbol">(</a><a id="674" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="679" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="681" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="685" class="Symbol">))</a>
         <a id="697" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="699" class="Symbol">(</a><a id="700" class="Number">8</a> <a id="702" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="704" class="Number">18</a> <a id="707" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="709" class="Number">10</a><a id="711" class="Symbol">)</a>
  <a id="715" class="Keyword">open</a> <a id="720" href="Prelude.Decidable.Examples.html#563" class="Module">Valid</a>

  <a id="t"></a><a id="729" href="Prelude.Decidable.Examples.html#729" class="Function">t</a> <a id="731" class="Symbol">:</a> <a id="733" href="Prelude.Decidable.Examples.html#563" class="Record">Valid</a> <a id="739" href="Prelude.Decidable.Base.html#71" class="Record Operator">⁇</a>
  <a id="743" href="Prelude.Decidable.Examples.html#729" class="Function">t</a> <a id="745" class="Symbol">.</a><a id="746" href="Prelude.Decidable.Base.html#125" class="Field">dec</a>
    <a id="754" class="Keyword">with</a> <a id="759" href="Prelude.Decidable.Base.html#125" class="Field">dec</a>
  <a id="765" class="Symbol">...</a> <a id="769" class="Symbol">|</a> <a id="771" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="774" href="Prelude.Decidable.Examples.html#774" class="Bound">¬p₁</a> <a id="778" class="Symbol">=</a> <a id="780" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="784" class="Symbol">(</a><a id="785" href="Prelude.Decidable.Examples.html#774" class="Bound">¬p₁</a> <a id="789" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="791" href="Prelude.Decidable.Examples.html#597" class="Field">p₁</a><a id="793" class="Symbol">)</a>
  <a id="797" class="Symbol">...</a> <a id="801" class="Symbol">|</a> <a id="803" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="807" href="Prelude.Decidable.Examples.html#807" class="Bound">p₁</a>
    <a id="814" class="Keyword">with</a> <a id="819" href="Prelude.Decidable.Base.html#125" class="Field">dec</a>
  <a id="825" class="Symbol">...</a> <a id="829" class="Symbol">|</a> <a id="831" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="834" href="Prelude.Decidable.Examples.html#834" class="Bound">¬p₂</a> <a id="838" class="Symbol">=</a> <a id="840" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="844" class="Symbol">(</a><a id="845" href="Prelude.Decidable.Examples.html#834" class="Bound">¬p₂</a> <a id="849" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="851" href="Prelude.Decidable.Examples.html#663" class="Field">p₂</a><a id="853" class="Symbol">)</a>
  <a id="857" class="Symbol">...</a> <a id="861" class="Symbol">|</a> <a id="863" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="867" href="Prelude.Decidable.Examples.html#867" class="Bound">p₂</a> <a id="870" class="Symbol">=</a> <a id="872" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="876" class="Keyword">record</a> <a id="883" class="Symbol">{</a><a id="884" href="Prelude.Decidable.Examples.html#597" class="Field">p₁</a> <a id="887" class="Symbol">=</a> <a id="889" class="Bound">p₁</a><a id="891" class="Symbol">;</a> <a id="893" href="Prelude.Decidable.Examples.html#663" class="Field">p₂</a> <a id="896" class="Symbol">=</a> <a id="898" href="Prelude.Decidable.Examples.html#867" class="Bound">p₂</a><a id="900" class="Symbol">}</a>

<a id="903" class="Comment">{-
  -- ** Dependent records (simple)
  record Valid : Set where
    field
      p₁ : ⊤
      p₂ : ¬ ( (¬ ¬ (tt ≡ p₁))
             × (8 ≡ 17 ∸ 10) )
  open Valid

  t : Valid ⁇
  t .dec
    with dec
  ... | no ¬p₁ = no  (¬p₁ ∘ p₁)
  ... | yes p₁
    with dec
  ... | no ¬p₂ = no  {!!} -- (¬p₂ ∘ p₂) -- doesn&#39;t work because of dependency between p₁ and p₂
  ... | yes p₂ = yes record {p₁ = p₁; p₂ = p₂}
-}</a>

<a id="1310" class="Comment">{-
  -- ** Dependent records (advanced)
  record Valid ⦃ da : DecEq A ⦄ (m : Maybe (List A)) (x₁ x₂ : A) : Set where
    field
      p₁ : M.Any.Any (λ xs → ( (xs ≡ ⟦ x₁ , x₂ ⟧)
                            × (Any (const ⊤) xs)
                            ⊎ (_⊆_ (_≟_ ⦃ da ⦄) ⟦ x₁ , x₂ ⟧ xs)
                            )) m

      p₂ : proj₁ (M.Any.satisfied p₁) ≡ ⟦ x₁ , x₂ ⟧
  open Valid

  t : ∀ ⦃ DecEq A ⦄ {m : Maybe (List A)} {x₁ x₂} → (Valid m x₁ x₂) ⁇
  t .dec
    with dec
  ... | no ¬p₁ = no  (¬p₁ ∘ p₁)
  ... | yes p₁
    with dec
  ... | no ¬p₂ = no  {!!} -- (¬p₂ ∘ p₂) -- doesn&#39;t work because of dependency between p₁ and p₂
  ... | yes p₂ = yes record {p₁ = p₁; p₂ = p₂}
-}</a>
</pre></body></html>