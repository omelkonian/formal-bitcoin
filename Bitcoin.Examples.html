<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bitcoin.Examples</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitcoin/tree/master///Bitcoin/Examples.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Examples 5,6,7 from the paper.</a>
<a id="108" class="Comment">------------------------------------------------------------------------</a>
<a id="181" class="Symbol">{-#</a> <a id="185" class="Keyword">OPTIONS</a> <a id="193" class="Pragma">--rewriting</a> <a id="205" class="Symbol">#-}</a>
<a id="209" class="Keyword">module</a> <a id="216" href="Bitcoin.Examples.html" class="Module">Bitcoin.Examples</a> <a id="233" class="Keyword">where</a>

<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="Agda.Builtin.Equality.Rewrite.html" class="Module">Agda.Builtin.Equality.Rewrite</a>

<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="307" class="Symbol">;</a> <a id="309" class="Keyword">open</a> <a id="314" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="324" class="Keyword">open</a> <a id="329" href="Prelude.Init.html#3301" class="Module">Nat</a> <a id="333" class="Keyword">using</a> <a id="339" class="Symbol">(</a><a id="340" href="Data.Nat.Properties.html#4574" class="Function">‚â§-refl</a><a id="346" class="Symbol">;</a> <a id="348" href="Data.Nat.Properties.html#17089" class="Function">m‚â§m+n</a><a id="353" class="Symbol">)</a>
<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Prelude.Sets.html" class="Module">Prelude.Sets</a>
<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Prelude.FromList.html" class="Module">Prelude.FromList</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a>
  <a id="578" class="Keyword">hiding</a> <a id="585" class="Symbol">(</a><a id="586" href="Bitcoin.BasicTypes.html#984" class="Function Operator">_ùêÅ</a><a id="588" class="Symbol">);</a> <a id="591" class="Keyword">private</a> <a id="_ùêÅ"></a><a id="599" href="Bitcoin.Examples.html#599" class="Function Operator">_ùêÅ</a> <a id="602" class="Symbol">=</a> <a id="604" href="Function.Base.html#624" class="Function">id</a> <a id="607" class="Comment">-- ** for fast evaluation</a>
<a id="633" class="Keyword">open</a> <a id="638" class="Keyword">import</a> <a id="645" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Bitcoin.Script.html" class="Module">Bitcoin.Script</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Bitcoin.Tx.html" class="Module">Bitcoin.Tx</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Bitcoin.Consistency.html" class="Module">Bitcoin.Consistency</a>

<a id="743" class="Keyword">postulate</a>
  <a id="k‚ÇÅ"></a><a id="755" href="Bitcoin.Examples.html#755" class="Postulate">k‚ÇÅ</a> <a id="k‚ÇÇ"></a><a id="758" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a> <a id="k‚ÇÉ"></a><a id="761" href="Bitcoin.Examples.html#761" class="Postulate">k‚ÇÉ</a> <a id="764" class="Symbol">:</a> <a id="766" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>
  <a id="t‚ÇÇ"></a><a id="776" href="Bitcoin.Examples.html#776" class="Postulate">t‚ÇÇ</a> <a id="t‚ÇÉ"></a><a id="779" href="Bitcoin.Examples.html#779" class="Postulate">t‚ÇÉ</a> <a id="782" class="Symbol">:</a> <a id="784" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a>

<a id="T‚ÇÅ"></a><a id="790" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="793" class="Symbol">:</a> <a id="795" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="798" class="Number">0</a> <a id="800" class="Number">3</a>
<a id="802" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="805" class="Symbol">=</a> <a id="807" class="Keyword">record</a>
  <a id="816" class="Symbol">{</a> <a id="818" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="826" class="Symbol">=</a> <a id="828" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
  <a id="833" class="Symbol">;</a> <a id="835" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="843" class="Symbol">=</a> <a id="845" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
  <a id="850" class="Symbol">;</a> <a id="852" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="860" class="Symbol">=</a> <a id="862" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
  <a id="867" class="Symbol">;</a> <a id="869" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="877" class="Symbol">=</a> <a id="879" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">[</a> <a id="881" class="Number">3</a> <a id="883" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a> <a id="885" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="899" href="Bitcoin.Examples.html#755" class="Postulate">k‚ÇÅ</a>
              <a id="916" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">‚®æ</a> <a id="918" class="Number">5</a> <a id="920" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a> <a id="922" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="936" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a>
              <a id="953" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">‚®æ</a> <a id="955" class="Number">7</a> <a id="957" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a> <a id="959" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="973" href="Bitcoin.Examples.html#761" class="Postulate">k‚ÇÉ</a>
              <a id="990" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">]</a>
  <a id="994" class="Symbol">;</a> <a id="996" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="1004" class="Symbol">=</a> <a id="1006" class="Number">0</a> <a id="1008" class="Symbol">}</a>

<a id="T‚ÇÇ"></a><a id="1011" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1019" class="Number">2</a> <a id="1021" class="Number">1</a>
<a id="1023" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="1026" class="Symbol">=</a> <a id="1028" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig‚ãÜ</a> <a id="1033" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1035" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1037" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a> <a id="1040" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1042" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">‚®æ</a> <a id="1044" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1046" href="Bitcoin.Examples.html#761" class="Postulate">k‚ÇÉ</a> <a id="1049" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1051" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="1053" class="Keyword">record</a>
  <a id="1062" class="Symbol">{</a> <a id="1064" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="1072" class="Symbol">=</a> <a id="1074" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1076" class="Symbol">(</a><a id="1077" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1080" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1081" class="Symbol">)</a> <a id="1083" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1086" class="Number">1</a> <a id="1088" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">‚®æ</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1094" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1095" class="Symbol">)</a> <a id="1097" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1100" class="Number">2</a> <a id="1102" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="1106" class="Symbol">;</a> <a id="1108" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="1116" class="Symbol">=</a> <a id="1118" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit‚ä•</a>
  <a id="1125" class="Symbol">;</a> <a id="1127" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="1135" class="Symbol">=</a> <a id="1137" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1139" class="Number">0</a>           <a id="1151" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">‚®æ</a> <a id="1153" class="Number">0</a>           <a id="1165" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="1169" class="Symbol">;</a> <a id="1171" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="1179" class="Symbol">=</a> <a id="1181" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1183" class="Number">10</a> <a id="1186" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a> <a id="1188" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="1202" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a> <a id="1205" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="1209" class="Symbol">;</a> <a id="1211" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="1219" class="Symbol">=</a> <a id="1221" href="Bitcoin.Examples.html#776" class="Postulate">t‚ÇÇ</a> <a id="1224" class="Symbol">}</a>

<a id="T‚ÇÉ"></a><a id="1227" href="Bitcoin.Examples.html#1227" class="Function">T‚ÇÉ</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1235" class="Number">1</a> <a id="1237" class="Number">1</a>
<a id="1239" href="Bitcoin.Examples.html#1227" class="Function">T‚ÇÉ</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig‚ãÜ</a> <a id="1249" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1251" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1253" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a> <a id="1256" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1258" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1260" class="Keyword">record</a>
  <a id="1269" class="Symbol">{</a> <a id="1271" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="1279" class="Symbol">=</a> <a id="1281" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1283" class="Symbol">(</a><a id="1284" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1287" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1288" class="Symbol">)</a> <a id="1290" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1293" class="Number">1</a> <a id="1295" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="1299" class="Symbol">;</a> <a id="1301" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="1309" class="Symbol">=</a> <a id="1311" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit‚ä•</a>
  <a id="1318" class="Symbol">;</a> <a id="1320" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="1328" class="Symbol">=</a> <a id="1330" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1332" class="Number">0</a> <a id="1334" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="1338" class="Symbol">;</a> <a id="1340" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="1348" class="Symbol">=</a> <a id="1350" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1352" class="Number">5</a> <a id="1354" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a> <a id="1356" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="1370" href="Bitcoin.Examples.html#758" class="Postulate">k‚ÇÇ</a> <a id="1373" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
  <a id="1377" class="Symbol">;</a> <a id="1379" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Bitcoin.Examples.html#779" class="Postulate">t‚ÇÉ</a> <a id="1392" class="Symbol">}</a>

<a id="B"></a><a id="1395" href="Bitcoin.Examples.html#1395" class="Function">B</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="Bitcoin.Consistency.html#650" class="Function">Blockchain</a>
<a id="1410" href="Bitcoin.Examples.html#1395" class="Function">B</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1416" class="Symbol">(</a><a id="1417" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1420" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1423" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a><a id="1425" class="Symbol">)</a> <a id="1427" href="Bitcoin.Tx.Base.html#2490" class="InductiveConstructor Operator">at</a> <a id="1430" href="Bitcoin.Examples.html#776" class="Postulate">t‚ÇÇ</a> <a id="1433" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">‚®æ</a> <a id="1435" class="Symbol">(</a><a id="1436" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1439" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1442" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a><a id="1444" class="Symbol">)</a> <a id="1446" href="Bitcoin.Tx.Base.html#2490" class="InductiveConstructor Operator">at</a> <a id="1449" class="Number">0</a> <a id="1451" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>

<a id="1454" class="Keyword">postulate</a>
  <a id="eq1"></a><a id="1466" href="Bitcoin.Examples.html#1466" class="Postulate">eq1</a> <a id="1470" class="Symbol">:</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1476" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1477" class="Symbol">)</a> <a id="1479" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">‚â°</a> <a id="1481" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="1483" class="Number">1</a>
  <a id="eq2"></a><a id="1487" href="Bitcoin.Examples.html#1487" class="Postulate">eq2</a> <a id="1491" class="Symbol">:</a> <a id="1493" class="Symbol">(</a><a id="1494" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="1497" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1498" class="Symbol">)</a> <a id="1500" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">‚â°</a> <a id="1502" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="1504" class="Number">2</a>
  <a id="eq3"></a><a id="1508" href="Bitcoin.Examples.html#1508" class="Postulate">eq3</a> <a id="1512" class="Symbol">:</a> <a id="1514" class="Symbol">(</a><a id="1515" href="Bitcoin.Examples.html#1227" class="Function">T‚ÇÉ</a> <a id="1518" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1519" class="Symbol">)</a> <a id="1521" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">‚â°</a> <a id="1523" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="1525" class="Number">3</a>
<a id="1527" class="Symbol">{-#</a> <a id="1531" class="Keyword">REWRITE</a> <a id="1539" href="Bitcoin.Examples.html#1466" class="Postulate">eq1</a> <a id="1543" class="Symbol">#-}</a>
<a id="1547" class="Symbol">{-#</a> <a id="1551" class="Keyword">REWRITE</a> <a id="1559" href="Bitcoin.Examples.html#1487" class="Postulate">eq2</a> <a id="1563" class="Symbol">#-}</a>
<a id="1567" class="Symbol">{-#</a> <a id="1571" class="Keyword">REWRITE</a> <a id="1579" href="Bitcoin.Examples.html#1508" class="Postulate">eq3</a> <a id="1583" class="Symbol">#-}</a>

<a id="_‚âà?À¢_"></a><a id="1588" href="Bitcoin.Examples.html#1588" class="Function Operator">_‚âà?À¢_</a> <a id="1594" class="Symbol">:</a> <a id="1596" class="Symbol">‚àÄ</a> <a id="1598" class="Symbol">(</a><a id="1599" href="Bitcoin.Examples.html#1599" class="Bound">x</a> <a id="1601" href="Bitcoin.Examples.html#1601" class="Bound">y</a> <a id="1603" class="Symbol">:</a> <a id="1605" href="Prelude.Sets.AsUniqueLists.Core.html#1060" class="Record">Set‚ü®</a> <a id="1610" href="Bitcoin.Tx.Base.html#359" class="Record">TxInput</a> <a id="1618" href="Prelude.Sets.AsUniqueLists.Core.html#1060" class="Record">‚ü©</a><a id="1619" class="Symbol">)</a> <a id="1621" class="Symbol">‚Üí</a> <a id="1623" href="Relation.Nullary.html#1520" class="Record">Dec</a> <a id="1627" class="Symbol">(</a><a id="1628" href="Bitcoin.Examples.html#1599" class="Bound">x</a> <a id="1630" href="Prelude.Setoid.Core.html#191" class="Field Operator">‚âà</a> <a id="1632" href="Bitcoin.Examples.html#1601" class="Bound">y</a><a id="1633" class="Symbol">)</a>
<a id="1635" href="Bitcoin.Examples.html#1635" class="Bound">x</a> <a id="1637" href="Bitcoin.Examples.html#1588" class="Function Operator">‚âà?À¢</a> <a id="1641" href="Bitcoin.Examples.html#1641" class="Bound">y</a> <a id="1643" class="Symbol">=</a> <a id="1645" class="Symbol">(</a><a id="1646" href="Bitcoin.Examples.html#1635" class="Bound">x</a> <a id="1648" href="Prelude.Sets.AsUniqueLists.Core.html#5483" class="Function Operator">‚äÜ?À¢</a> <a id="1652" href="Bitcoin.Examples.html#1641" class="Bound">y</a><a id="1653" class="Symbol">)</a> <a id="1655" href="Relation.Nullary.Product.html#930" class="Function Operator">√ó-dec</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Bitcoin.Examples.html#1641" class="Bound">y</a> <a id="1664" href="Prelude.Sets.AsUniqueLists.Core.html#5483" class="Function Operator">‚äÜ?À¢</a> <a id="1668" href="Bitcoin.Examples.html#1635" class="Bound">x</a><a id="1669" class="Symbol">)</a>

<a id="b"></a><a id="1672" href="Bitcoin.Examples.html#1672" class="Function">b</a> <a id="1674" class="Symbol">=</a> <a id="1676" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1681" href="Bitcoin.Tx.Base.html#359" class="Record">TxInput</a> <a id="1689" href="Function.Base.html#4571" class="Function Operator">‚àã</a> <a id="1691" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1693" class="Symbol">(</a><a id="1694" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1697" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1698" class="Symbol">)</a> <a id="1700" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1703" class="Number">0</a> <a id="1705" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">‚®æ</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="1711" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1712" class="Symbol">)</a> <a id="1714" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1717" class="Number">0</a> <a id="1719" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>

<a id="1722" href="Bitcoin.Examples.html#1722" class="Function">_</a> <a id="1724" class="Symbol">:</a> <a id="1726" href="Bitcoin.Consistency.html#1368" class="Function">UTXO</a> <a id="1731" href="Bitcoin.Examples.html#1395" class="Function">B</a> <a id="1733" href="Prelude.Setoid.Core.html#191" class="Field Operator">‚âà</a> <a id="1735" href="Prelude.FromList.html#214" class="Field">fromList</a> <a id="1744" href="Bitcoin.Examples.html#1672" class="Function">b</a>
<a id="1746" class="Symbol">_</a> <a id="1748" class="Symbol">=</a> <a id="1750" href="Relation.Nullary.Decidable.Core.html#1493" class="Function">toWitness</a> <a id="1760" class="Symbol">{</a><a id="1761" class="Argument">Q</a> <a id="1763" class="Symbol">=</a> <a id="1765" href="Bitcoin.Consistency.html#1368" class="Function">UTXO</a> <a id="1770" href="Bitcoin.Examples.html#1395" class="Function">B</a> <a id="1772" href="Bitcoin.Examples.html#1588" class="Function Operator">‚âà?À¢</a> <a id="1776" href="Prelude.FromList.html#214" class="Field">fromList</a> <a id="1785" href="Bitcoin.Examples.html#1672" class="Function">b</a><a id="1786" class="Symbol">}</a> <a id="1788" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>

<a id="B‚ÇÄ"></a><a id="1792" href="Bitcoin.Examples.html#1792" class="Function">B‚ÇÄ</a> <a id="1795" class="Symbol">:</a> <a id="1797" href="Bitcoin.Consistency.html#650" class="Function">Blockchain</a>
<a id="1808" href="Bitcoin.Examples.html#1792" class="Function">B‚ÇÄ</a> <a id="1811" class="Symbol">=</a> <a id="1813" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1815" class="Symbol">(</a><a id="1816" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1819" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1822" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a><a id="1824" class="Symbol">)</a> <a id="1826" href="Bitcoin.Tx.Base.html#2490" class="InductiveConstructor Operator">at</a> <a id="1829" class="Number">0</a> <a id="1831" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

<a id="b‚ÇÄ"></a><a id="1834" href="Bitcoin.Examples.html#1834" class="Function">b‚ÇÄ</a> <a id="1837" class="Symbol">=</a> <a id="1839" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1844" href="Bitcoin.Tx.Base.html#359" class="Record">TxInput</a> <a id="1852" href="Function.Base.html#4571" class="Function Operator">‚àã</a> <a id="1854" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">[</a> <a id="1856" class="Symbol">(</a><a id="1857" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1860" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1861" class="Symbol">)</a> <a id="1863" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1866" class="Number">0</a> <a id="1868" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">‚®æ</a> <a id="1870" class="Symbol">(</a><a id="1871" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1874" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1875" class="Symbol">)</a> <a id="1877" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1880" class="Number">1</a> <a id="1882" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">‚®æ</a> <a id="1884" class="Symbol">(</a><a id="1885" href="Bitcoin.Examples.html#790" class="Function">T‚ÇÅ</a> <a id="1888" href="Bitcoin.Crypto.html#609" class="Postulate Operator">‚ôØ</a><a id="1889" class="Symbol">)</a> <a id="1891" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="1894" class="Number">2</a> <a id="1896" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">]</a>

<a id="1899" href="Bitcoin.Examples.html#1899" class="Function">_</a> <a id="1901" class="Symbol">:</a> <a id="1903" href="Bitcoin.Consistency.html#1368" class="Function">UTXO</a> <a id="1908" href="Bitcoin.Examples.html#1792" class="Function">B‚ÇÄ</a> <a id="1911" href="Prelude.Setoid.Core.html#191" class="Field Operator">‚âà</a> <a id="1913" href="Prelude.FromList.html#214" class="Field">fromList</a> <a id="1922" href="Bitcoin.Examples.html#1834" class="Function">b‚ÇÄ</a>
<a id="1925" class="Symbol">_</a> <a id="1927" class="Symbol">=</a> <a id="1929" href="Relation.Nullary.Decidable.Core.html#1493" class="Function">toWitness</a> <a id="1939" class="Symbol">{</a><a id="1940" class="Argument">Q</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Bitcoin.Consistency.html#1368" class="Function">UTXO</a> <a id="1949" href="Bitcoin.Examples.html#1792" class="Function">B‚ÇÄ</a> <a id="1952" href="Bitcoin.Examples.html#1588" class="Function Operator">‚âà?À¢</a> <a id="1956" href="Prelude.FromList.html#214" class="Field">fromList</a> <a id="1965" href="Bitcoin.Examples.html#1834" class="Function">b‚ÇÄ</a><a id="1967" class="Symbol">}</a> <a id="1969" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>

<a id="1973" href="Bitcoin.Examples.html#1973" class="Function">_</a> <a id="1975" class="Symbol">:</a> <a id="1977" href="Bitcoin.Examples.html#1792" class="Function">B‚ÇÄ</a> <a id="1980" href="Bitcoin.Consistency.html#1636" class="Record Operator">‚ñ∑</a> <a id="1982" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="1985" href="Bitcoin.Consistency.html#1636" class="Record Operator">,</a> <a id="1987" href="Bitcoin.Examples.html#776" class="Postulate">t‚ÇÇ</a>
<a id="1990" class="Symbol">_</a> <a id="1992" class="Symbol">=</a> <a id="1994" class="Keyword">record</a>
  <a id="2003" class="Symbol">{</a> <a id="2005" href="Bitcoin.Consistency.html#1746" class="Field">inputsUnique</a> <a id="2018" class="Symbol">=</a> <a id="2020" href="Prelude.Decidable.Core.html#181" class="Function">auto</a>
  <a id="2027" class="Symbol">;</a> <a id="2029" href="Bitcoin.Consistency.html#1800" class="Field">singleMatch</a> <a id="2041" class="Symbol">=</a> <a id="2043" class="Symbol">Œª</a> <a id="2045" class="Keyword">where</a>
      <a id="2057" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="2060" class="Symbol">‚Üí</a> <a id="2062" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2065" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="2076" href="Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a> <a id="2079" class="Symbol">‚Üí</a> <a id="2081" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2084" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="2091" class="Symbol">;</a> <a id="2093" href="Bitcoin.Consistency.html#1930" class="Field">noOutOfBounds</a> <a id="2107" class="Symbol">=</a> <a id="2109" class="Symbol">Œª</a> <a id="2111" class="Keyword">where</a>
      <a id="2123" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="2126" class="Symbol">‚Üí</a> <a id="2128" href="Data.Nat.Properties.html#17089" class="Function">m‚â§m+n</a> <a id="2134" class="Symbol">_</a> <a id="2136" class="Number">1</a>
      <a id="2144" href="Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a> <a id="2147" class="Symbol">‚Üí</a> <a id="2149" href="Data.Nat.Properties.html#4574" class="Function">‚â§-refl</a>
  <a id="2158" class="Symbol">;</a> <a id="2160" href="Bitcoin.Consistency.html#2469" class="Field">inputs‚ààUTXO</a> <a id="2172" class="Symbol">=</a> <a id="2174" class="Symbol">Œª</a> <a id="2176" class="Keyword">where</a>
      <a id="2188" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="2191" class="Symbol">‚Üí</a> <a id="2193" href="Prelude.Decidable.Core.html#181" class="Function">auto</a>
      <a id="2204" href="Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a> <a id="2207" class="Symbol">‚Üí</a> <a id="2209" href="Prelude.Decidable.Core.html#181" class="Function">auto</a>
  <a id="2216" class="Symbol">;</a> <a id="2218" href="Bitcoin.Consistency.html#2541" class="Field">inputsRedeemable</a> <a id="2235" class="Symbol">=</a> <a id="2237" class="Symbol">Œª</a> <a id="2239" class="Keyword">where</a>
      <a id="2251" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="2254" class="Symbol">‚Üí</a> <a id="2256" class="Keyword">record</a>
        <a id="2271" class="Symbol">{</a> <a id="2273" href="Bitcoin.Tx.Semantics.html#1213" class="Field">input~output</a> <a id="2286" class="Symbol">=</a> <a id="2288" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="2301" class="Symbol">;</a> <a id="2303" href="Bitcoin.Tx.Semantics.html#1260" class="Field">scriptValidates</a> <a id="2319" class="Symbol">=</a> <a id="2321" href="Bitcoin.Tx.Crypto.html#1818" class="Function">ver‚ãÜsig‚â°</a> <a id="2330" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="2333" class="Number">0</a>
        <a id="2343" class="Symbol">;</a> <a id="2345" href="Bitcoin.Tx.Semantics.html#1321" class="Field">value‚â°</a> <a id="2352" class="Symbol">=</a> <a id="2354" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="2367" class="Symbol">;</a> <a id="2369" href="Bitcoin.Tx.Semantics.html#1362" class="Field">satisfiesAbsLock</a> <a id="2386" class="Symbol">=</a> <a id="2388" href="Data.Nat.Properties.html#4574" class="Function">‚â§-refl</a>
        <a id="2403" class="Symbol">;</a> <a id="2405" href="Bitcoin.Tx.Semantics.html#1410" class="Field">satisfiesRelLock</a> <a id="2422" class="Symbol">=</a> <a id="2424" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z‚â§n</a> <a id="2428" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2430" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z‚â§n</a>
        <a id="2442" class="Symbol">}</a>
      <a id="2450" href="Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a> <a id="2453" class="Symbol">‚Üí</a> <a id="2455" class="Keyword">record</a>
        <a id="2470" class="Symbol">{</a> <a id="2472" href="Bitcoin.Tx.Semantics.html#1213" class="Field">input~output</a> <a id="2485" class="Symbol">=</a> <a id="2487" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="2500" class="Symbol">;</a> <a id="2502" href="Bitcoin.Tx.Semantics.html#1260" class="Field">scriptValidates</a> <a id="2518" class="Symbol">=</a> <a id="2520" href="Bitcoin.Tx.Crypto.html#1818" class="Function">ver‚ãÜsig‚â°</a> <a id="2529" href="Bitcoin.Examples.html#1011" class="Function">T‚ÇÇ</a> <a id="2532" class="Number">1</a>
        <a id="2542" class="Symbol">;</a> <a id="2544" href="Bitcoin.Tx.Semantics.html#1321" class="Field">value‚â°</a> <a id="2551" class="Symbol">=</a> <a id="2553" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="2566" class="Symbol">;</a> <a id="2568" href="Bitcoin.Tx.Semantics.html#1362" class="Field">satisfiesAbsLock</a> <a id="2585" class="Symbol">=</a> <a id="2587" href="Data.Nat.Properties.html#4574" class="Function">‚â§-refl</a>
        <a id="2602" class="Symbol">;</a> <a id="2604" href="Bitcoin.Tx.Semantics.html#1410" class="Field">satisfiesRelLock</a> <a id="2621" class="Symbol">=</a> <a id="2623" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z‚â§n</a> <a id="2627" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2629" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z‚â§n</a>
        <a id="2641" class="Symbol">}</a>
  <a id="2645" class="Symbol">;</a> <a id="2647" href="Bitcoin.Consistency.html#2666" class="Field">valuesPreserved</a> <a id="2663" class="Symbol">=</a> <a id="2665" href="Data.Nat.Properties.html#17089" class="Function">m‚â§m+n</a> <a id="2671" class="Symbol">_</a> <a id="2673" class="Symbol">(</a><a id="2674" class="Number">2</a> <a id="2676" href="Bitcoin.Examples.html#599" class="Function Operator">ùêÅ</a><a id="2677" class="Symbol">)</a>
  <a id="2681" class="Symbol">;</a> <a id="2683" href="Bitcoin.Consistency.html#2867" class="Field">laterTime</a> <a id="2693" class="Symbol">=</a> <a id="2695" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z‚â§n</a>
  <a id="2701" class="Symbol">}</a>

<a id="2704" href="Bitcoin.Examples.html#2704" class="Function">_</a> <a id="2706" class="Symbol">:</a> <a id="2708" href="Relation.Nullary.html#665" class="Function Operator">¬¨</a> <a id="2710" class="Symbol">(</a><a id="2711" href="Bitcoin.Examples.html#1395" class="Function">B</a> <a id="2713" href="Bitcoin.Consistency.html#1636" class="Record Operator">‚ñ∑</a> <a id="2715" href="Bitcoin.Examples.html#1227" class="Function">T‚ÇÉ</a> <a id="2718" href="Bitcoin.Consistency.html#1636" class="Record Operator">,</a> <a id="2720" href="Bitcoin.Examples.html#779" class="Postulate">t‚ÇÉ</a><a id="2722" class="Symbol">)</a>
<a id="2724" class="Symbol">_</a> <a id="2726" class="Symbol">=</a> <a id="2728" class="Symbol">Œª</a> <a id="2730" class="Keyword">where</a> <a id="2736" class="Keyword">record</a> <a id="2743" class="Symbol">{</a><a id="2744" href="Bitcoin.Consistency.html#2469" class="Field">inputs‚ààUTXO</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="Bitcoin.Examples.html#2758" class="Bound">p</a><a id="2759" class="Symbol">}</a> <a id="2761" class="Symbol">‚Üí</a> <a id="2763" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="2774" class="Symbol">(</a><a id="2775" href="Bitcoin.Examples.html#2758" class="Bound">p</a> <a id="2777" class="Number">0</a><a id="2778" class="Symbol">)</a>
</pre></body></html>